{"version":3,"sources":["assets\\GameHall\\script\\Lobby\\pop\\PopupView.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAAA,0EAAyE;AACzE,kEAA6D;AAC7D,2DAA0D;AAE1D,gDAA2C;AAE3C;;GAEG;AACH;IAAuC,6BAAQ;IAA/C;QAAA,qEAkDC;QAvCW,kBAAY,GAAiB,IAAI,CAAC;QAClC,cAAQ,GAAoB,IAAI,CAAC;QACjC,gBAAU,GAAoB,IAAI,CAAC;QACnC,gBAAU,GAAiB,IAAI,CAAC;QAahC,WAAK,GAAG,CAAC,CAAC;;IAuBtB,CAAC;IAjDG,sBAAc,0CAAmB;aAAjC;YACI,OAAO,UAAU,CAAC;QACtB,CAAC;;;OAAA;IACD,sBAAc,kCAAW;aAAzB;YACI,OAAO,WAAW,CAAC;QACvB,CAAC;;;OAAA;IACD,sBAAc,oCAAa;aAA3B;YACI,OAAO,KAAK,CAAC;QACjB,CAAC;;;OAAA;IAQD,yCAAqB,GAArB;QACI,iBAAM,qBAAqB,WAAE,CAAC;QAC9B,IAAI,CAAC,aAAa,CAAC,OAAO,GAAG,KAAK,CAAC;QACnC,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QAC3C,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;IACjE,CAAC;IACD,mCAAe,GAAf;QACI,IAAI,CAAC,IAAI,EAAE,CAAC;QACZ,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpB,CAAC;IAGM,4BAAQ,GAAf;QACI,IAAI,CAAC,MAAM,GAAG,sBAAY,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC;QACjD,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,MAAM,EAAE;YAChC,IAAI,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC;YACxC,eAAM,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,CAAC;SACrE;aAAM;YACH,IAAI,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC;YACxC,IAAI,CAAC,QAAQ,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC;YACnD,IAAI,CAAC,UAAU,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC;SAC1D;IACL,CAAC;IAED,wBAAI,GAAJ;QACI,2BAAY,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,EAAE,QAAQ,CAAC,CAAC;QACnD,IAAI,CAAC,KAAK,IAAI,CAAC,CAAC;QAChB,IAAI,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE;YACrC,iBAAM,IAAI,WAAE,CAAC;SAChB;aAAM;YACH,IAAI,CAAC,QAAQ,EAAE,CAAC;SACnB;IACL,CAAC;IACL,gBAAC;AAAD,CAlDA,AAkDC,CAlDsC,kBAAQ,GAkD9C","file":"","sourceRoot":"/","sourcesContent":["import { AudioManager } from \"../../../../Script/BaseFrame/AudioManager\";\r\nimport ViewBase from \"../../../../Script/BaseFrame/ViewBase\";\r\nimport { UIUtil } from \"../../../../Script/Common/UIUtil\";\r\nimport { notice } from \"../LobbyNetData\";\r\nimport LobbyViewCtr from \"../LobbyViewCtr\";\r\n\r\n/**\r\n * @description 公告弹窗\r\n */\r\nexport default class PopupView extends ViewBase {\r\n    protected get packageResourceName(): string {\r\n        return \"gameHall\";\r\n    }\r\n    protected get packageName(): string {\r\n        return \"res/Lobby\";\r\n    }\r\n    protected get componentName(): string {\r\n        return \"pop\";\r\n    }\r\n\r\n    private ui_btn_close: fgui.GButton = null;\r\n    private ui_title: fgui.GTextField = null;\r\n    private ui_content: fgui.GTextField = null;\r\n    private ui_gloader: fgui.GLoader = null;\r\n    private typeController: fgui.Controller;\r\n\r\n    createChildComponents() {\r\n        super.createChildComponents();\r\n        this.fguiComponent.visible = false;\r\n        this.ui_btn_close.onClick(this.Hide, this);\r\n        this.typeController = this.fguiComponent.getController(\"c1\");\r\n    }\r\n    OnLoadCompleted() {\r\n        this.Show();\r\n        this.initData();\r\n    }\r\n    private index = 0;\r\n    private notice: notice[];\r\n    public initData() {\r\n        this.notice = LobbyViewCtr.instance.Model.notice;\r\n        if (this.notice[this.index].PicUrl) {\r\n            this.typeController.setSelectedIndex(1);\r\n            UIUtil.loadImage(this.ui_gloader, this.notice[this.index].PicUrl);\r\n        } else {\r\n            this.typeController.setSelectedIndex(0);\r\n            this.ui_title.text = this.notice[this.index].title;\r\n            this.ui_content.text = this.notice[this.index].content;\r\n        }\r\n    }\r\n\r\n    Hide() {\r\n        AudioManager.Singleton.play('PopupView', \"button\");\r\n        this.index += 1;\r\n        if (this.index > this.notice.length - 1) {\r\n            super.Hide();\r\n        } else {\r\n            this.initData();\r\n        }\r\n    }\r\n}"]}