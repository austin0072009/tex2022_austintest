{"version":3,"sources":["assets\\GameHall\\script\\Lobby\\knapsack\\MyKnapsackView.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAAA,0EAAyE;AACzE,kEAA6D;AAE7D,gDAA2C;AAG3C;;GAEG;AACH;IAA4C,kCAAQ;IAApD;QAAA,qEA6DC;QAlDW,sBAAgB,GAAiB,IAAI,CAAC;QACtC,gBAAU,GAAe,IAAI,CAAC;QAiB/B,eAAS,GAAe,EAAE,CAAC;;IAgCtC,CAAC;IA5DG,sBAAc,+CAAmB;aAAjC;YACI,OAAO,UAAU,CAAC;QACtB,CAAC;;;OAAA;IACD,sBAAc,uCAAW;aAAzB;YACI,OAAO,WAAW,CAAC;QACvB,CAAC;;;OAAA;IACD,sBAAc,yCAAa;aAA3B;YACI,OAAO,UAAU,CAAC;QACtB,CAAC;;;OAAA;IAKD,8CAAqB,GAArB;QACI,iBAAM,qBAAqB,WAAE,CAAC;QAC9B,IAAI,CAAC,aAAa,CAAC,OAAO,GAAG,KAAK,CAAC;QACnC,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QAC/C,IAAI,CAAC,UAAU,CAAC,UAAU,EAAE,CAAC;QAC7B,IAAI,CAAC,UAAU,CAAC,YAAY,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC9D,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;IACtE,CAAC;IACD,wCAAe,GAAf;QACI,IAAI,CAAC,IAAI,EAAE,CAAC;IAChB,CAAC;IACD,6BAAI,GAAJ;QACI,2BAAY,CAAC,SAAS,CAAC,IAAI,CAAC,gBAAgB,EAAE,QAAQ,CAAC,CAAC;QACxD,iBAAM,IAAI,WAAE,CAAC;IACjB,CAAC;IAED,sBAAW,oCAAQ;aAInB;YACI,OAAO,IAAI,CAAC,SAAS,CAAC;QAC1B,CAAC;aAND,UAAoB,IAAI;YACpB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;YACtB,IAAI,CAAC,UAAU,CAAC,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC;QAC3C,CAAC;;;OAAA;IAKM,uCAAc,GAArB,UAAsB,KAAa,EAAE,GAAiB;QAClD,IAAI,IAAI,GAAmB,GAAG,CAAC;QAC/B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;IACvC,CAAC;IACM,oCAAW,GAAlB,UAAmB,IAAoB;QACnC,2BAAY,CAAC,SAAS,CAAC,IAAI,CAAC,gBAAgB,EAAE,QAAQ,CAAC,CAAC;QACxD,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpB,CAAC;IAED,6BAA6B;IAC7B,8CAA8C;IAC9C,mEAAmE;IACnE,gDAAgD;IAChD,gFAAgF;IAChF,iCAAiC;IACjC,QAAQ;IACR,IAAI;IAEG,6BAAI,GAAX;QACI,iBAAM,IAAI,WAAE,CAAC;QACb,IAAI,CAAC,QAAQ,GAAG,sBAAY,CAAC,QAAQ,CAAC,KAAK,CAAC,WAAW,CAAC;QACxD,0BAA0B;IAC9B,CAAC;IACL,qBAAC;AAAD,CA7DA,AA6DC,CA7D2C,kBAAQ,GA6DnD","file":"","sourceRoot":"/","sourcesContent":["import { AudioManager } from \"../../../../Script/BaseFrame/AudioManager\";\r\nimport ViewBase from \"../../../../Script/BaseFrame/ViewBase\";\r\nimport { PropInfo } from \"../LobbyNetData\";\r\nimport LobbyViewCtr from \"../LobbyViewCtr\";\r\nimport { MyKnapsackItem } from \"./MyKnapsackItem\";\r\n\r\n/**\r\n * @description 背包\r\n */\r\nexport default class MyKnapsackView extends ViewBase {\r\n    protected get packageResourceName(): string {\r\n        return \"gameHall\";\r\n    }\r\n    protected get packageName(): string {\r\n        return \"res/Lobby\";\r\n    }\r\n    protected get componentName(): string {\r\n        return \"knapsack\";\r\n    }\r\n\r\n    private ui_btn_knspBreak: fgui.GButton = null;\r\n    private ui_pkgList: fgui.GList = null;\r\n\r\n    createChildComponents() {\r\n        super.createChildComponents();\r\n        this.fguiComponent.visible = false;\r\n        this.ui_btn_knspBreak.onClick(this.Hide, this);\r\n        this.ui_pkgList.setVirtual();\r\n        this.ui_pkgList.itemRenderer = this.renderListItem.bind(this);\r\n        this.ui_pkgList.on(fgui.Event.CLICK_ITEM, this.onClickItem, this);\r\n    }\r\n    OnLoadCompleted() {\r\n        this.Show();\r\n    }\r\n    Hide() {\r\n        AudioManager.Singleton.play('MyKnapsackView', \"button\");\r\n        super.Hide();\r\n    }\r\n    public _listData: PropInfo[] = [];\r\n    public set listData(data) {\r\n        this._listData = data;\r\n        this.ui_pkgList.numItems = data.length;\r\n    }\r\n    public get listData() {\r\n        return this._listData;\r\n    }\r\n\r\n    public renderListItem(index: number, obj: fgui.GObject) {\r\n        let item = <MyKnapsackItem>obj;\r\n        item.setData(this.listData[index]);\r\n    }\r\n    public onClickItem(item: MyKnapsackItem) {\r\n        AudioManager.Singleton.play('MyKnapsackView', \"button\");\r\n        item.showDesc();\r\n    }\r\n\r\n    // public initBagPackData() {\r\n    //     this.ui_pkgList.removeChildrenToPool();\r\n    //     for (let index = 0; index < this.listData.length; index++) {\r\n    //         const element = this.listData[index];\r\n    //         let item = this.ui_pkgList.addItemFromPool().asCom as MyKnapsackItem;\r\n    //         item.setData(element);\r\n    //     }\r\n    // }\r\n\r\n    public Show() {\r\n        super.Show();\r\n        this.listData = LobbyViewCtr.instance.model.bagpackData;\r\n        // this.initBagPackData();\r\n    }\r\n}"]}