{"version":3,"sources":["assets\\Script\\Common\\UIUtil.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { BaseFrameNative } from \"../../Script/BaseFrameNative\";\nimport { CommonCtr } from \"../BaseFrame/CommonCtr\";\nimport HttpHelpEx from \"./Managers/HttpHelpEx\";\n\nexport class UIUtil {\n    public static formatNumber(_val: number): number {\n        return +(_val / 100).toFixed(2).slice(0, -1);\n    }\n\n\n    public static formatNumber100(_val: number): number {\n        let strNum = (_val / 100).toString(); 0.06\n        let str = strNum.indexOf(\".\") >= 0 ? strNum.split(\".\")[1] : \"\";\n        if (str.length != 0 && str.substring(0, 1) != \"0\") {\n            return Number.parseFloat((_val / 100).toFixed(2).slice(0, -1));\n        } else {\n            return UIUtil.NumberToInt(_val / 100);\n        }\n    }\n\n    public static formatNumber100ToK(val: number): string {\n        let _val = UIUtil.formatNumber100(val);\n        if (_val < 1000) {\n            return _val + \"\";\n        }\n\n        let strNum = (_val / 1000).toString();\n        let str = strNum.indexOf(\".\") >= 0 ? strNum.split(\".\")[1] : \"\";\n        let num = 0;\n        if (str.length != 0 && str.substring(0, 1) != \"0\") {\n            return Number.parseFloat((_val / 1000).toFixed(2).slice(0, -1)) + \"K\";\n        } else {\n            return UIUtil.NumberToInt(_val / 1000) + \"K\";\n        }\n    }\n\n    public static isNumber(text: string) {\n        let n = Number(text);\n        if (!isNaN(n)) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    // 加载图片\n    public static loadImage(loader: fgui.GLoader, resNameorurl: string, packageName?: string) {\n        let httptype: boolean = false;\n        let httpHead: boolean = false;\n        if (resNameorurl.startsWith(\"http\")) httptype = true;\n        if (resNameorurl.indexOf(\"fordlc/wechat\") != -1) {\n            httpHead = true;\n            resNameorurl = BaseFrameNative.serverlistItem.apiAdress + resNameorurl;\n        }\n\n        if (httptype || httpHead) {\n            loader.url = resNameorurl;\n        } else {\n            let res_url = fgui.UIPackage.getItemURL(packageName, resNameorurl);\n            loader.url = res_url;\n        }\n    }\n\n    // 加载商城图片\n    public static loadShopImage(loader: fgui.GLoader, resNameorurl: string, packageName?: string) {\n        let httptype: boolean = false;\n        let httpHead: boolean = false;\n        if (resNameorurl.startsWith(\"http\")) httptype = true;\n        if (resNameorurl.indexOf(\"fordlc/wechat\") != -1) {\n            httpHead = true;\n            resNameorurl = BaseFrameNative.serverlistItem.api2 + resNameorurl;\n        }\n        if (httptype || httpHead) {\n            loader.url = resNameorurl;\n        } else {\n            let res_url = fgui.UIPackage.getItemURL(packageName, resNameorurl);\n            loader.url = res_url;\n        }\n    }\n\n    // 添加搜索路径\n    public static addSearchPaths(path: string) {\n        let pathList = jsb.fileUtils.getSearchPaths();\n        for (let index = 0; index < pathList.length; index++) {\n            let tempPath = pathList[index];\n            if (tempPath == path) {\n                return;\n            }\n        }\n        // 没有加到搜索路径\n        pathList.unshift(path);\n        jsb.fileUtils.setSearchPaths(pathList);\n    }\n\n    /// <summary>\n    /// Image 变灰开关\n    /// </summary>\n    /// <param name=\"target\"></param>\n    /// <param name=\"flag\"></param>\n    public static ImageGreyToggle(target: fgui.GObject, flag: boolean) {\n        if (target == null) return;\n        target.grayed = flag\n    }\n\n    //影藏节点下的子节点\n    public static HideChildren(com: fgui.GComponent, isShow: boolean = false) {\n        if (com == null) return;\n        for (var i = 0; i < com._children.length; i++) {\n            com._children[i].visible = isShow;\n        }\n\n    }\n\n    //文本长度限制\n    public static SetLimitTxt(txt: fgui.GTextField, content: string, length: number = 6) {\n        if (txt != null) {\n            txt.text = this.getNickNameSub(content, length);\n        }\n    }\n    public static getNickNameSub(str: string, _length: number): string {\n        if (this.strLength(str) <= _length) {\n            return str;\n        }\n\n        let resStr = \"\";\n        let cnt = 0;\n        for (var i = 0; i < str.length; i++) {\n            if (str.charCodeAt(i) > 255) {\n                cnt += 2;\n            }\n            else {\n                cnt++;\n            }\n            resStr += str.substring(i, i + 1);\n\n            if (cnt >= _length) break;\n        }\n        return resStr;\n    }\n    public static strLength(str) {\n        var cnt = 0;\n        for (var i = 0; i < str.length; i++) {\n            if (str.charCodeAt(i) > 255)\n                cnt += 2;\n            else\n                cnt++;\n        }\n        return cnt;\n    }\n\n\n    /// <summary>\n    /// 根据秒数获取00：00格式的string\n    /// </summary>\n    /// <param name=\"seconds\"></param>\n    /// <returns></returns>\n    public static getStringTime(seconds: number): string {\n        let hou = UIUtil.NumberToInt(seconds / (60 * 60 * 24));\n        let min = UIUtil.NumberToInt((seconds % (60 * 60 * 24)) / 60);\n        let strresult = \"\";\n        let sec = UIUtil.NumberToInt(seconds % 60);\n        if (hou > 0) {\n            if (hou < 10) {\n                strresult = strresult + \"0\" + hou + \":\";\n            }\n            else {\n                strresult = strresult + \"\" + hou + \":\";\n            }\n        }\n        if (min > 0) {\n            if (min < 10) {\n                strresult = strresult + \"0\" + min + \":\";\n            }\n            else {\n                strresult = strresult + \"\" + min + \":\";\n            }\n        }\n        else {\n            strresult = strresult + \"00:\";\n        }\n        if (sec > 0) {\n            if (sec < 10) {\n                strresult = strresult + \"0\" + sec;\n            }\n            else {\n                strresult = strresult + \"\" + sec;\n            }\n        }\n        else {\n            strresult = strresult + \"00\";\n        }\n        return strresult;\n    }\n\n    //数组拼接\n    public static Concat<T>(arr1: T[], arr2: T[]): T[] {\n        if (arr1 == null) arr1 = [];\n        if (arr2 == null) arr2 = [];\n        arr2.forEach(element => {\n            arr1.push(element);\n        });\n        return arr1;\n    }\n\n    /**验证字符串是否为数字 */\n    public static checkNumber(value: any) {\n        let reg = /^[0-9]+.?[0-9]*$/;\n        if (reg.test(value)) {\n            return true;\n        }\n        return false;\n    }\n\n    //文字渐变,优先使用value\n    public static TextGradient(topColor: string, bottomColor: string, value: string = \"\", textField?: fgui.GTextField): string {\n        let str = \"\";\n        if (textField != null) {\n            textField.ubbEnabled = true;\n            str = textField.text;\n        }\n        str = value == null || value == \"\" ? str : value;\n        let strColor = \"[color=\" + topColor + \",\" + bottomColor + \"]\" + str + \"[/color]\";\n        if (textField) textField.text = strColor;\n        return strColor;\n    }\n\n    //小数转整形,Math.floot会进一位\n    public static NumberToInt(num: number): number {\n        let strNum: string = num.toString();\n        return Number.parseInt(strNum);\n    }\n\n    // 客服功能\n    public static kefuFunction(callBack: Function) {\n        let url = BaseFrameNative.serverlistItem.apiAdress + \"/api/Game/GetLogolist\";\n        let params = {}\n        HttpHelpEx.instance.post(url, params)\n            .then((res) => {\n                console.log(\"---GetLogolist---\", res);\n                if (res.code == 1) {\n                    // cc.sys.openURL(res.curl);\n                    callBack(res.curl);\n                } else {\n                    CommonCtr.instance.view.ShowTipLabel(\"获取客服信息失败\");\n                }\n            }).catch((err) => {\n                console.log(\"---err---\", err)\n                CommonCtr.instance.view.ShowTipLabel(\"获取客服信息失败\");\n            })\n    }\n\n    //富文本才能显示表情图片  imgUrl：ui://包名/图片\n    public EmojiToHtml(imgUrl: string, height: number = 50, width: number = 50): string {\n        return `<img src=\"${imgUrl}\" height=\"${height}\" width=\"${width}\"></img>`\n    }\n}\n\nexport class PlayerPrefs {\n    public static SetInt(key: string, value: number) {\n        cc.sys.localStorage.setItem(key, value);\n    }\n\n    public static SetString(key: string, value: string) {\n        cc.sys.localStorage.setItem(key, value);\n    }\n\n    public static GetInt(key: string, value: number): number {\n        let _val: string = cc.sys.localStorage.getItem(key);\n        if (_val != null) {\n            return Number.parseInt(_val);\n        } else {\n            this.SetInt(key, value);\n            return value;\n        }\n    }\n\n    public static GetString(key: string, value: string): string {\n        let _val: string = cc.sys.localStorage.getItem(key);\n        if (_val != null && _val != \"\") {\n            return _val;\n        } else {\n            this.SetString(key, value);\n            return value;\n        }\n    }\n}"]}