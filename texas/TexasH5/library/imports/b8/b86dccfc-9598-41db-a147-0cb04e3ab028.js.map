{"version":3,"sources":["assets\\GameHall\\script\\Lobby\\vip\\VipShoppingView.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { AudioManager } from \"../../../../Script/BaseFrame/AudioManager\";\r\nimport { CommonCtr } from \"../../../../Script/BaseFrame/CommonCtr\";\r\nimport ViewBase from \"../../../../Script/BaseFrame/ViewBase\";\r\nimport HttpHelpEx from \"../../../../Script/Common/Managers/HttpHelpEx\";\r\nimport { UIUtil } from \"../../../../Script/Common/UIUtil\";\r\nimport { AppConst } from \"../../../../Script/modules/@slotsmaster/ui-common/lib/AppConst\";\r\nimport { BaseFrameNative } from \"../../../../Script/BaseFrameNative\";\r\nimport LobbyViewCtr from \"../LobbyViewCtr\";\r\n\r\n/**\r\n * @description vip 商城\r\n * \r\n */\r\nexport default class VipShoppingView extends ViewBase {\r\n    protected get packageResourceName(): string {\r\n        return \"gameHall\";\r\n    }\r\n    protected get packageName(): string {\r\n        return \"res/Lobby\";\r\n    }\r\n    protected get componentName(): string {\r\n        return \"vipShopping\";\r\n    }\r\n\r\n    private ui_btn_shoppingBreak: fgui.GButton = null;\r\n    /**兑换记录 */\r\n    private ui_btn_exchangLog: fgui.GButton = null;\r\n    /**设置地址 */\r\n    private ui_btn_setAddress: fgui.GButton = null;\r\n    /**当前的积分 */\r\n    private ui_nowNumTip: fgui.GTextField = null;\r\n    /**原价的积分 */\r\n    private ui_nowintegral: fgui.GTextField = null;\r\n    /**当前折扣 */\r\n    private ui_nowdiscount: fgui.GTextField = null;\r\n    /**下拉 */\r\n    private ui_btn_goods: fgui.GComboBox = null;\r\n    /**物品列表 */\r\n    private ui_goodsList: fgui.GList = null;\r\n\r\n    private ui_btn_exchange: fgui.GButton = null;\r\n\r\n\r\n\r\n    private ui_stips: fgui.GComponent = null;\r\n    private ui_btn_tipqx: fgui.GButton = null;\r\n    private ui_btn_tipqr: fgui.GButton = null;\r\n    /**积分 */\r\n    private ui_integralNum: fgui.GTextField = null;\r\n    /**物品名 */\r\n    private ui_goodsName: fgui.GTextField = null;\r\n    /**订单号 */\r\n    private ui_orderNum: fgui.GTextField = null;\r\n\r\n    private tipController: fgui.Controller;\r\n\r\n    private goodsConfig: { name: string, type: number, imgPic: string, integral: number }[] = []\r\n\r\n    /**物品数据 */\r\n    private goodsListData: { name: string, type: number, imgPic: string, integral: number }[] = [];\r\n    private selectGoods;\r\n\r\n    /**收货地址 */\r\n    public address: string;\r\n    public addressInfo: { address: string, userId: number, id: number };\r\n    /**当前折扣 */\r\n    private discount: number;\r\n\r\n\r\n    private ui_vipshopping: fgui.GLoader = null;\r\n    createChildComponents() {\r\n        super.createChildComponents();\r\n        this.fguiComponent.visible = false;\r\n        this.ui_btn_shoppingBreak.onClick(this.Hide, this);\r\n        this.ui_btn_exchangLog.onClick(this.showExchangeLog, this);\r\n        this.ui_btn_setAddress.onClick(this.showSetAddress, this);\r\n        this.ui_btn_exchange.onClick(this.exchangeGoods, this);\r\n\r\n        this.ui_goodsList.setVirtual();\r\n        this.ui_goodsList.itemRenderer = this.renderListItem.bind(this);\r\n        this.ui_goodsList.on(fgui.Event.CLICK_ITEM, this.onClickItem, this);\r\n\r\n        this.ui_btn_goods.on(fgui.Event.STATUS_CHANGED, this.onChanged, this);\r\n\r\n        this.goodsListData = this.goodsConfig.slice(0);\r\n        this.ui_goodsList.numItems = this.goodsListData.length;\r\n\r\n        this.tipController = this.ui_stips.getController(\"c1\");\r\n\r\n        this.ui_btn_tipqx.onClick(this.colseTip, this);\r\n        this.ui_btn_tipqr.onClick(this.qrExchange, this);\r\n\r\n        // NativeMethod.setUrlByLanguage(this.ui_vipshopping[\"_contentItem\"].name, this.ui_vipshopping);\r\n    }\r\n    OnLoadCompleted() {\r\n        this.GetaddressInfo();\r\n        this.Show();\r\n    }\r\n\r\n    public renderListItem(index: number, obj: fgui.GObject) {\r\n        let item = <fgui.GButton>obj;\r\n        let name = item.getChild(\"name\").asTextField;  //物品名\r\n        let discount = item.getChild(\"discount\").asTextField; //折扣\r\n        let oldSoucre = item.getChild(\"oldSoucre\").asTextField; //原价\r\n        let nowSoucre = item.getChild(\"nowSoucre\").asTextField;  // 现价\r\n        if (this.discount == 0) {\r\n            discount.visible = false;\r\n        } else {\r\n            discount.visible = true;\r\n            discount.setVar(\"zk\", this.discount + \"折\").flushVars();\r\n        }\r\n        oldSoucre.setVar(\"jf\", this.goodsListData[index].integral + '').flushVars();\r\n        let nowScore = this.goodsListData[index].integral * (this.discount == 0 ? 1 : this.discount * 0.1);\r\n        nowSoucre.setVar(\"zf\", nowScore.toFixed(0)).flushVars();\r\n\r\n        let goodsLoader = item.getChild(\"goodsLoader\").asLoader;//商品的loader\r\n\r\n        name.text = this.goodsListData[index].name;\r\n\r\n        item.name = index + '';\r\n        UIUtil.loadShopImage(goodsLoader, this.goodsListData[index].imgPic);\r\n    }\r\n\r\n\r\n\r\n    public onClickItem(item: fgui.GButton) {\r\n        this.selectGoods = item.name;\r\n    }\r\n\r\n    /**下拉状态改变 */\r\n    public onChanged() {\r\n        this.ui_goodsList.selectNone();\r\n        this.selectGoods = null;\r\n        let index = this.ui_btn_goods.selectedIndex;\r\n        this.goodsListData = [];\r\n        cc.log(\"数据--------------\", this.goodsConfig)\r\n        if (index == 0) { //全部\r\n            this.goodsListData = this.goodsConfig.slice(0);\r\n        } else if (index == 1) { //游戏\r\n            for (let i = 0; i < this.goodsConfig.length; i++) {\r\n                if (this.goodsConfig[i].type == 0) {\r\n                    this.goodsListData.push(this.goodsConfig[i]);\r\n                }\r\n            }\r\n        } else if (index == 2) {//实物\r\n            for (let i = 0; i < this.goodsConfig.length; i++) {\r\n                if (this.goodsConfig[i].type == 1) {\r\n                    this.goodsListData.push(this.goodsConfig[i]);\r\n                }\r\n            }\r\n        }\r\n        this.ui_goodsList.numItems = this.goodsListData.length;\r\n    }\r\n\r\n\r\n\r\n    public showExchangeLog() {\r\n        LobbyViewCtr.instance.view.showVipExchangeLogView();\r\n    }\r\n    public showSetAddress() {\r\n        LobbyViewCtr.instance.view.showVipExidAdressView();\r\n    }\r\n\r\n    Hide() {\r\n        AudioManager.Singleton.play('VipShoppingView', \"button\");\r\n        super.Hide();\r\n    }\r\n\r\n\r\n    public handleData() {\r\n        let model = LobbyViewCtr.instance.Model;\r\n        this.ui_nowintegral.setVar(\"integral\", model.vipInfo.currScore + '').flushVars();\r\n        let vipConfig = model.vipConfig;\r\n        let lv = model.vipLevel;\r\n        this.discount = vipConfig.Discount[lv];\r\n        if (this.discount == 0) {\r\n            this.ui_nowdiscount.setVar(\"zk\", '无').flushVars();\r\n        } else {\r\n            this.ui_nowdiscount.setVar(\"zk\", this.discount + '折').flushVars();\r\n        }\r\n\r\n    }\r\n    public Show() {\r\n        super.Show();\r\n        this.ui_goodsList.selectNone();\r\n        this.selectGoods = null;\r\n        this.handleData();\r\n        let url = BaseFrameNative.serverlistItem.apiAdress + \"/api/Game/GetitemmanagerInfo\";\r\n        HttpHelpEx.instance.get(url)\r\n            .then((res) => {\r\n                cc.log(\"=================\", res);\r\n                if (res.code == 1) {\r\n                    this.goodsConfig = res.data.data;\r\n                    this.onChanged();\r\n                } else {\r\n                    CommonCtr.instance.ShowTipLabel(\"获取商品失败\");\r\n                }\r\n            })\r\n            .catch(() => {\r\n                // CommonCtr.instance.ShowTipLabel(\"获取商品失败\");\r\n            })\r\n\r\n    }\r\n    private colseTip() {\r\n        this.ui_stips.visible = false;\r\n    }\r\n\r\n    public qrExchange() {\r\n        this.ui_stips.visible = false;\r\n        if (this.tipController.selectedIndex == 0) {\r\n            if (this.goodsListData[this.selectGoods].type == 0) {//游戲物品\r\n                this.sendExchangeGoods();\r\n            } else { //實物 要填寫地址\r\n                if (this.address) {\r\n                    //跳確認地址\r\n                    LobbyViewCtr.instance.view.showVipConfirmAdressView();\r\n                    //跳确认订单\r\n                    // LobbyViewCtr.instance.view.showVipConfirmOrderView();\r\n                } else {\r\n                    //跳編輯地址\r\n                    LobbyViewCtr.instance.view.showVipExidAdressView();\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    public setTipData() {\r\n        let nowScore = this.goodsListData[this.selectGoods].integral * (this.discount == 0 ? 1 : this.discount * 0.1);\r\n        this.ui_nowNumTip.setVar(\"yj\", nowScore.toFixed(0)).flushVars();\r\n        this.ui_integralNum.setVar(\"jf\", this.goodsListData[this.selectGoods].integral + '').flushVars();\r\n        this.ui_goodsName.setVar(\"name\", this.goodsListData[this.selectGoods].name).flushVars();\r\n    }\r\n\r\n    /**获取当前选择的物品信息 */\r\n    public getSelectInfo() {\r\n        return { info: this.goodsListData[this.selectGoods], address: this.address };\r\n    }\r\n\r\n    /**兑换物品 */\r\n    public exchangeGoods() {\r\n        if (this.selectGoods >= 0 && this.selectGoods != null) {\r\n            let currScore = LobbyViewCtr.instance.Model.vipInfo.currScore;\r\n            let nowScore = this.goodsListData[this.selectGoods].integral * (this.discount == 0 ? 1 : this.discount * 0.1);\r\n            nowScore = +nowScore.toFixed(0);\r\n            console.log(\"currScore == \", currScore);\r\n            console.log(\"nowScore == \", nowScore);\r\n            if (currScore < nowScore) {\r\n                this.tipController.setSelectedIndex(1);\r\n                this.ui_stips.visible = true;\r\n                return;\r\n            }\r\n            this.tipController.setSelectedIndex(0);\r\n            this.setTipData();\r\n            this.ui_stips.visible = true;\r\n        } else {\r\n            CommonCtr.instance.ShowTipLabel(\"請選擇兌換的物品\");\r\n        }\r\n    }\r\n\r\n    /**发送兑换 */\r\n    public sendExchangeGoods() {\r\n        let url = BaseFrameNative.serverlistItem.apiAdress + \"/api/Game/Additemorderlog\";\r\n        let params = {\r\n            UserId: AppConst.mPlayerModel.userid,\r\n            Viplevel: LobbyViewCtr.instance.Model.vipLevel,\r\n            UserName: AppConst.mPlayerModel._n,\r\n            scores: LobbyViewCtr.instance.Model.vipInfo.currScore,\r\n            ItemName: this.goodsListData[this.selectGoods].name,\r\n            ItemScores: this.goodsListData[this.selectGoods].integral,\r\n            Type: this.goodsListData[this.selectGoods].type,\r\n            Address: this.address,\r\n        }\r\n        fgui.GRoot.inst.showModalWait();\r\n        HttpHelpEx.instance.post(url, params, {\r\n            headers: {\r\n                \"Content-Type\": \"application/json; charset=utf-8\"\r\n            }\r\n        })\r\n            .then((response) => {\r\n                cc.log(\"-----------兌換---\", response)\r\n                fgui.GRoot.inst.closeModalWait();\r\n                if (response.code == 1) {\r\n                    CommonCtr.instance.ShowTipLabel(response.message);\r\n                    LobbyViewCtr.instance.Model.vipInfo.currScore -= this.goodsListData[this.selectGoods].integral * (this.discount == 0 ? 1 : this.discount / 10)\r\n                    let nowscore = LobbyViewCtr.instance.Model.vipInfo.currScore.toFixed(0);\r\n                    this.ui_nowintegral.setVar(\"integral\", nowscore).flushVars();\r\n                    if (LobbyViewCtr.instance.view.myVipPrivilegeView) {\r\n                        LobbyViewCtr.instance.view.myVipPrivilegeView.handleData();\r\n                    }\r\n                    if (LobbyViewCtr.instance.view.vipConfirmOrderView) {\r\n                        LobbyViewCtr.instance.view.vipConfirmOrderView.showTip(response.data[0]);\r\n                    }\r\n                } else {\r\n                    CommonCtr.instance.ShowTipLabel(response.message);\r\n                }\r\n\r\n            })\r\n            .catch((err) => {\r\n                console.log(\"---catch---\", err);\r\n                fgui.GRoot.inst.closeModalWait();\r\n                CommonCtr.instance.ShowTipLabel(\"兌換失敗\");\r\n            })\r\n    }\r\n\r\n    /**獲取收穫地址 */\r\n    public GetaddressInfo() {\r\n        let url = BaseFrameNative.serverlistItem.apiAdress + \"/api/Game/GetaddressInfo\" + `?userid=${AppConst.mPlayerModel.userid}`;\r\n        HttpHelpEx.instance.get(url)\r\n            .then((res) => {\r\n                cc.log(\"========收货地址==========\", res);\r\n                if (res.code == 1) {\r\n                    this.addressInfo = res.data;\r\n                    if (res.data != \"\") {\r\n                        this.address = res.data.address;\r\n                        LobbyViewCtr.instance.Model.vipAddress = res.data.address;\r\n                    }\r\n                }\r\n            })\r\n            .catch(() => {\r\n\r\n            })\r\n    }\r\n\r\n\r\n}"]}