{"version":3,"sources":["assets\\Script\\modules\\@slotsmaster\\ui-common\\lib\\NumberOfKind\\NumberOfKindSpine.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["/*\n * @Author: 田鑫\n * @Date: 2020-05-14 14:59:34\n * @LastEditors: 田鑫\n * @LastEditTime: 2020-08-11 15:42:00\n * @Version: CocosCreator V2.2.2\n * @Description: numberOfKind 连线SPINE\n */\n\nimport SpineCommon from \"../../../../@mogafa/fairygui-component/lib/SpineCommon\";\nimport SoundMgr from \"../../../../@mogafa/utils/lib/SoundMgr\";\n\n\n\n\nclass NumberOfKindSpineResources {\n    public static PATH: string = \"Games/Common/UI/NumberOfKind/Spine/\";\n    public static KINDUP: string = \"spine_ui_function_5kind_up\";\n    public static KINDDOWN: string = \"spine_ui_function_5kind_down\";\n}\n\nexport default class NumberOfKindSpine extends SpineCommon {\n    constructor(node: cc.Node) {\n        super(node, [\n            NumberOfKindSpineResources.PATH + NumberOfKindSpineResources.KINDUP,\n            NumberOfKindSpineResources.PATH + NumberOfKindSpineResources.KINDDOWN,\n        ]);\n    }\n\n    /**\n     * numberOfKind动画周期\n     * @param kindNumber\n     * @param holding 存在时间\n     */\n    kindCycle(kindNumber: number, holding: number = 1.5) {\n        this._skeleton.skeletonData = this._resources[NumberOfKindSpineResources.KINDUP];\n        //* 播放ofKind连线音效\n        SoundMgr.getInstance().playEffect(`vo_${kindNumber}_of_kind`);\n        this.skeleton.setAnimation(0, `${kindNumber}_finish`, false);\n        this.skeleton.addAnimation(0, `${kindNumber}_breath`, false);\n        this.skeleton.setCompleteListener((trackEntry: any) => {\n            if (!!trackEntry && trackEntry.animation.name === `${kindNumber}_breath`) {\n                this.skeleton.addAnimation(0, `${kindNumber}_over`, false);\n            }\n        });\n    }\n\n    /**\n     * numberOfKind背景动画周期\n     * @param kindNumber\n     * @param holding 存在时间\n     */\n    kindCycleBg(kindNumber: number, holding: number = 1.5) {\n        this._skeleton.skeletonData = this._resources[NumberOfKindSpineResources.KINDDOWN];\n        this.skeleton.setAnimation(0, `${kindNumber}_finish`, false);\n        this.skeleton.addAnimation(0, `${kindNumber}_breath`, false);\n        this.skeleton.setCompleteListener((trackEntry: any) => {\n            if (!!trackEntry && trackEntry.animation.name === `${kindNumber}_breath`) {\n                this.skeleton.addAnimation(0, `${kindNumber}_over`, false);\n            }\n        });\n    }\n\n    /**\n     * numberOfKind通用方法\n     * @param kindNumber\n     * @param holding\n     */\n    numberOfKind(kindNumber: number, holding: number = 1.5) {\n        this.skeleton.setAnimation(0, `${kindNumber}_finish`, false);\n        this.skeleton.addAnimation(0, `${kindNumber}_breath`, true);\n        this.scheduleOnce(() => {\n            this.skeleton.setCompleteListener((trackEntry: any) => {\n                if (!!trackEntry && trackEntry.animation.name === `${kindNumber}_breath`) {\n                    this.skeleton.addAnimation(0, `${kindNumber}_over`, false);\n                }\n            });\n        }, holding);\n    }\n}\n"]}