{"version":3,"sources":["assets\\GameHall\\script\\Lobby\\match\\MatchItem.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { CompeteInfo } from \"../LobbyNetData\";\r\n\r\n/**\r\n * @description 賽事 item\r\n */\r\nexport default class MatchItem extends fgui.GButton {\r\n    /**赛事名字 */\r\n    private matchName: fgui.GTextField;\r\n    /**赛事的状态 */\r\n    private matchState: fgui.GTextField;\r\n\r\n    /**赛事的奖金 */\r\n    private jackpotNum: fgui.GTextField;\r\n\r\n    /**参赛人数 */\r\n    private enrollPlayNum: fgui.GTextField;\r\n\r\n    private year: fgui.GTextField;\r\n    /**报名时间 */\r\n    private enrollTime: fgui.GTextField;\r\n    /**自己是否报名 */\r\n    private signup: fgui.GImage;\r\n\r\n    /**赛事数据 */\r\n    public data: CompeteInfo;\r\n\r\n    /**报名费 */\r\n    private free: fgui.GTextField;\r\n\r\n    /**颜色controller */\r\n    private colorController: fgui.Controller;\r\n\r\n    protected onConstruct() {\r\n        this.matchName = this.getChild(\"name\").asTextField;\r\n        this.jackpotNum = this.getChild(\"jack\").asTextField;\r\n        this.enrollPlayNum = this.getChild(\"playNum\").asTextField;\r\n        this.matchState = this.getChild(\"state\").asTextField;\r\n        this.year = this.getChild(\"year\").asTextField;\r\n        this.enrollTime = this.getChild(\"time\").asTextField;\r\n        this.free = this.getChild(\"free\").asTextField;\r\n\r\n        this.signup = this.getChild(\"signup\").asImage;\r\n        this.colorController = this.getController(\"color\");\r\n    }\r\n    /**设置数据 */\r\n    public setData(data: CompeteInfo) {\r\n        this.data = data;\r\n        let str = data.StartTime.split(\" \");\r\n        this.year.text = str[0].slice(str[0].indexOf(\"-\") + 1);\r\n        this.enrollTime.text = str[1].slice(0, str[1].lastIndexOf(\":\"));\r\n        this.jackpotNum.text = \"¥\" + this.toThousands(data.prizepool);\r\n        this.enrollPlayNum.text = `${data.signupcount}/${data.maxcount}`;\r\n        this.matchName.text = data.name;\r\n        this.free.text = `${data.free[0].name}*${data.free[0].num}`;\r\n\r\n        this.signup.visible = data.IsSignup;\r\n\r\n        if (!data.cansignup) {\r\n            if (Date.now() < new Date(data.SignupTime).getTime()) { //报名未开始\r\n                this.matchState.text = '報名未開始';\r\n            } else {\r\n                this.matchState.text = '報名結束';\r\n            }\r\n        } else {\r\n            this.matchState.text = '報名中';\r\n        }\r\n    }\r\n    public toThousands(nums) {\r\n        let num = (nums || 0).toString();\r\n        let result = '';\r\n        while (num.length > 3) {\r\n            result = ',' + num.slice(-3) + result;\r\n            num = num.slice(0, num.length - 3);\r\n        }\r\n        if (num) { result = num + result; }\r\n        return result;\r\n    }\r\n\r\n}"]}