{"version":3,"sources":["assets\\GameHall\\script\\Lobby\\Components\\SlideShow.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AACA;;GAEG;AACH;IAAuC,6BAAe;IAClD;eACI,iBAAO;IACX,CAAC;IAKS,+BAAW,GAArB;QACI,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QACnD,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC;QACzC,IAAI,CAAC,IAAI,CAAC,iBAAiB,EAAE,CAAC;QAC9B,IAAI,CAAC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACtD,IAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;QACvB,qCAAqC;QACrC,iDAAiD;QACjD,WAAW;QACX,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpB,CAAC;IAEM,4BAAQ,GAAf;QAAA,iBAUC;QATG,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC;QAC3B,IAAI,CAAC,IAAI,CAAC,SAAS,CACf,EAAE,CAAC,aAAa,CACZ,EAAE,CAAC,QAAQ,CACP,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC,EACf,EAAE,CAAC,QAAQ,CAAC;YACR,KAAI,CAAC,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;QAC9C,CAAC,CAAC,CAAC,CAAC,CACf,CAAA;IACL,CAAC;IAEO,gCAAY,GAApB,UAAqB,KAAa,EAAE,GAAiB;QACjD,IAAI,IAAI,GAAoB,GAAG,CAAC;QAChC,IAAI,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC;QAC1C,IAAI,KAAK,IAAI,CAAC,IAAI,KAAK,IAAI,CAAC,EAAE;YAC1B,MAAM,CAAC,GAAG,GAAG,mBAAmB,CAAC;SACpC;aAAM;YACH,MAAM,CAAC,GAAG,GAAG,oBAAoB,CAAC;SACrC;QACD,IAAI,CAAC,eAAe,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;IACjD,CAAC;IACM,yBAAK,GAAZ;QACI,+BAA+B;QAC/B,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC;IAC/B,CAAC;IACM,6BAAS,GAAhB;QACI,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC;QAC3B,+BAA+B;IACnC,CAAC;IAEL,gBAAC;AAAD,CAnDA,AAmDC,CAnDsC,IAAI,CAAC,UAAU,GAmDrD","file":"","sourceRoot":"/","sourcesContent":["\r\n/**\r\n * @description 轮播图\r\n */\r\nexport default class SlideShow extends fgui.GComponent {\r\n    public constructor() {\r\n        super();\r\n    }\r\n    private indexController: fgui.Controller;\r\n    private list: fgui.GList;\r\n    private timerId;\r\n\r\n    protected onConstruct(): void {\r\n        this.indexController = this.getController(\"index\");\r\n        this.list = this.getChild(\"list\").asList;\r\n        this.list.setVirtualAndLoop();\r\n        this.list.itemRenderer = this.itemRenderer.bind(this);\r\n        this.list.numItems = 4;\r\n        // this.timerId = setInterval(() => {\r\n        //     this.list.scrollPane.scrollRight(1, true);\r\n        // }, 5000)\r\n        this.loopRoll();\r\n    }\r\n\r\n    public loopRoll() {\r\n        this.node.stopAllActions();\r\n        this.node.runAction(\r\n            cc.repeatForever(\r\n                cc.sequence(\r\n                    cc.delayTime(5),\r\n                    cc.callFunc(() => {\r\n                        this.list.scrollPane.scrollRight(1, true);\r\n                    })))\r\n        )\r\n    }\r\n\r\n    private itemRenderer(index: number, obj: fgui.GObject) {\r\n        let item = <fgui.GComponent>obj;\r\n        let loader = item.getChild(\"n0\").asLoader;\r\n        if (index == 0 || index == 2) {\r\n            loader.url = \"ui://Lobby/BANNER\";\r\n        } else {\r\n            loader.url = \"ui://Lobby/BANNER1\";\r\n        }\r\n        this.indexController.setSelectedIndex(index);\r\n    }\r\n    public clean() {\r\n        // clearInterval(this.timerId);\r\n        this.node.stopAllActions();\r\n    }\r\n    public onDestroy() {\r\n        this.node.stopAllActions();\r\n        // clearInterval(this.timerId);\r\n    }\r\n\r\n}"]}