{"version":3,"sources":["assets\\GameHall\\script\\Lobby\\settingpanel\\LanguageView.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { AudioManager } from \"../../../../Script/BaseFrame/AudioManager\";\r\nimport { CommonCtr } from \"../../../../Script/BaseFrame/CommonCtr\";\r\nimport { SceneManager } from \"../../../../Script/BaseFrame/SceneManager\";\r\nimport ViewBase from \"../../../../Script/BaseFrame/ViewBase\";\r\nimport { WebSocketManager } from \"../../../../Script/BaseFrame/WebSocketManager\";\r\nimport { AppConst } from \"../../../../Script/modules/@slotsmaster/ui-common/lib/AppConst\";\r\nimport { GameCommon } from \"../../GameCommon\";\r\n\r\n/**\r\n * @description 語言\r\n */\r\nexport default class LanguageView extends ViewBase {\r\n    protected get packageResourceName(): string {\r\n        return \"gameHall\";\r\n    }\r\n    protected get packageName(): string {\r\n        return \"res/Lobby\";\r\n    }\r\n    protected get componentName(): string {\r\n        return \"setLanguage\";\r\n    }\r\n\r\n    private ui_btn_closeLanguage: fgui.GButton = null;\r\n    private ui_btn_confirmLanguage: fgui.GButton = null;\r\n    private ui_btn_cancelLanguage: fgui.GButton = null;\r\n    private languageController: fgui.Controller;\r\n    private ui_confirmsetLanguage: fgui.GComponent = null;\r\n\r\n    /**語言 */\r\n    private ui_btn_ftzw: fgui.GButton = null;\r\n    private ui_btn_jtzw: fgui.GButton = null;\r\n    private ui_btn_yinyu: fgui.GButton = null;\r\n    private ui_btn_ry: fgui.GButton = null;\r\n    private ui_yuyanque: fgui.GRichTextField = null;\r\n\r\n    createChildComponents() {\r\n        super.createChildComponents();\r\n        this.fguiComponent.visible = false;\r\n        this.ui_btn_closeLanguage.onClick(this.Hide, this);\r\n        this.ui_btn_cancelLanguage.onClick(this.canceLanguage, this);\r\n        this.ui_btn_confirmLanguage.onClick(this.changedLanguage, this);\r\n        this.languageController = this.fguiComponent.getController(\"type\");\r\n        this.languageController.onChanged(this.languageChanged, this);\r\n    }\r\n    OnLoadCompleted() {\r\n        this.Show();\r\n    }\r\n    Hide() {\r\n        AudioManager.Singleton.play('LanguageView', \"button\");\r\n        super.Hide();\r\n    }\r\n    public languageChanged() {\r\n        AudioManager.Singleton.play('LanguageView', \"button\");\r\n        let index = this.languageController.selectedIndex;\r\n        switch (AppConst.languageType) {\r\n            case 1:\r\n                this.ui_yuyanque.setVar(\"1\", this.ui_btn_ftzw.title).flushVars();\r\n                break;\r\n            case 2:\r\n                this.ui_yuyanque.setVar(\"1\", this.ui_btn_jtzw.title).flushVars();\r\n                break;\r\n            case 3:\r\n                this.ui_yuyanque.setVar(\"1\", this.ui_btn_yinyu.title).flushVars();\r\n                break;\r\n            case 4:\r\n                this.ui_yuyanque.setVar(\"1\", this.ui_btn_ry.title).flushVars();\r\n                break;\r\n        }\r\n\r\n        switch (index) {\r\n            case 0:\r\n                break;\r\n            case 1:\r\n                this.ui_yuyanque.setVar(\"2\", this.ui_btn_ftzw.title).flushVars();\r\n                this.ui_confirmsetLanguage.visible = true;\r\n                break;\r\n            case 2:\r\n                this.ui_yuyanque.setVar(\"2\", this.ui_btn_jtzw.title).flushVars();\r\n                this.ui_confirmsetLanguage.visible = true;\r\n                break;\r\n            case 3:\r\n                this.ui_yuyanque.setVar(\"2\", this.ui_btn_yinyu.title).flushVars();\r\n                this.ui_confirmsetLanguage.visible = true;\r\n                break;\r\n            case 4:\r\n                this.ui_yuyanque.setVar(\"2\", this.ui_btn_ry.title).flushVars();\r\n                this.ui_confirmsetLanguage.visible = true;\r\n                break;\r\n        }\r\n    }\r\n\r\n    public canceLanguage() {\r\n        AudioManager.Singleton.play('LanguageView', \"button\");\r\n        this.ui_confirmsetLanguage.visible = false;\r\n        this.languageController.selectedIndex = 0;\r\n    }\r\n    public changedLanguage() {\r\n        AudioManager.Singleton.play('LanguageView', \"button\");\r\n        let index = this.languageController.selectedIndex;\r\n        this.ui_confirmsetLanguage.visible = false;\r\n        if (AppConst.languageType == index) { //切換相同的語言\r\n            return;\r\n        }\r\n        if (index == 3 || index == 4) {\r\n            CommonCtr.instance.view.ShowTipLabel(\"暫無相關語言\");\r\n            return;\r\n        }\r\n        AppConst.languageType = index;\r\n        cc.sys.localStorage.setItem(\"languageType\", AppConst.languageType + '');\r\n        fgui.UIPackage.removePackage(this.packageName);\r\n        // GameCommon.loadScene(\"gameHall\", \"lobby\");\r\n        this.signout();\r\n    }\r\n\r\n    /**退出游戲  */\r\n    public signout() {\r\n        WebSocketManager.getInstance.DisConnect();\r\n        GameCommon.isAutoLogin = false;\r\n        SceneManager.Singleton.loadScene(\"gameHall\", \"login\");\r\n    }\r\n\r\n    public Show() {\r\n        super.Show();\r\n    }\r\n\r\n}"]}