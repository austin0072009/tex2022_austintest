{"version":3,"sources":["assets\\Script\\modules\\@mogafa\\fairygui-component\\lib\\ButtonLongTouch.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAEA,yDAAoD;AACpD,IAAK,WAIJ;AAJD,WAAK,WAAW;IACZ,6CAAQ,CAAA;IACR,+CAAS,CAAA;IACT,2CAAO,CAAA;AACX,CAAC,EAJI,WAAW,KAAX,WAAW,QAIf;AAAA,CAAC;AACF;IAAqC,mCAAiB;IAAtD;QAAA,qEAoEC;QA1DG,QAAQ;QACA,cAAQ,GAAY,KAAK,CAAC;QAClC,QAAQ;QACA,gBAAU,GAAW,CAAC,CAAC;QAC/B,QAAQ;QACA,iBAAW,GAAW,CAAC,CAAC;QACxB,kBAAY,GAAgB,WAAW,CAAC,IAAI,CAAC;;IAoDzD,CAAC;IAnEG,sBAAc,gDAAmB;aAAjC;YACI,OAAO,IAAI,CAAC;QAChB,CAAC;;;OAAA;IACD,sBAAc,wCAAW;aAAzB;YACI,OAAO,IAAI,CAAC;QAChB,CAAC;;;OAAA;IACD,sBAAc,0CAAa;aAA3B;YACI,OAAO,IAAI,CAAC;QAChB,CAAC;;;OAAA;IASD,2CAAiB,GAAjB,UAAkB,IAAa;QAC3B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACnE,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IACnE,CAAC;IAED,oCAAU,GAAV;QACI,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACrB,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;IACxB,CAAC;IAED,kCAAQ,GAAR;QACI,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;IAC1B,CAAC;IAED,gCAAM,GAAN,UAAO,EAAU;QACb,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,UAAU,EAAE,CAAC;YAClB,IAAI,IAAI,CAAC,UAAU,GAAG,EAAE,EAAE;gBACtB,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;gBACtB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;gBAC7B,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;gBACrB,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;gBACpB,OAAO;aACV;YAED,oDAAoD;YACpD,IAAI;YACJ,6BAA6B;YAC7B,sCAAsC;YACtC,4BAA4B;YAC5B,2BAA2B;YAC3B,IAAI;SACP;aACI;YACD,IAAI,IAAI,CAAC,UAAU,GAAG,CAAC,IAAI,IAAI,CAAC,UAAU,GAAG,EAAE,EAAE;gBAC7C,8BAA8B;gBAC9B,IAAI;gBACJ,yBAAyB;gBACzB,IAAI;gBACJ,8BAA8B;gBAC9B,IAAI;gBACJ,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;gBAC9B,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;gBACpB,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;gBACrB,GAAG;aAEN;SACJ;IACL,CAAC;IACL,sBAAC;AAAD,CApEA,AAoEC,CApEoC,2BAAiB,GAoErD;AApEY,0CAAe","file":"","sourceRoot":"/","sourcesContent":["\n\nimport FguiComponentBase from \"./FguiComponentBase\";\nenum doubleState {\n    init = 1,\n    awake = 2,\n    end = 3,\n};\nexport class ButtonLongTouch extends FguiComponentBase {\n    protected get packageResourceName(): string {\n        return null;\n    }\n    protected get packageName(): string {\n        return null;\n    }\n    protected get componentName(): string {\n        return null;\n    }\n    //* 是否点击\n    private _isTouch: boolean = false;\n    //* 点击时间\n    private _touchTime: number = 0;\n    //* 双击间隔\n    private _doubleTime: number = 0;\n    private _doubleState: doubleState = doubleState.init;\n\n    registerTouchLong(node: cc.Node) {\n        this.node = node;\n        node.on(cc.Node.EventType.TOUCH_START, this.startTouch.bind(this));\n        node.on(cc.Node.EventType.TOUCH_END, this.endTouch.bind(this));\n    }\n\n    startTouch() {\n        this._isTouch = true;\n        this._touchTime = 0;\n    }\n\n    endTouch() {\n        this._isTouch = false;\n    }\n\n    update(dt: number) {\n        if (this._isTouch) {\n            this._touchTime++;\n            if (this._touchTime > 30) {\n                this._isTouch = false;\n                this.node.emit(\"touch-long\");\n                this._doubleTime = 0;\n                this._touchTime = 0;\n                return;\n            }\n\n            // if(this._doubleTime > 0 && this._doubleTime < 10)\n            // {\n            //     this._isTouch = false;\n            //     this.node.emit(\"touch-double\");\n            //     this._doubleTime = 0;\n            //     this._touchTime = 0;\n            // }\n        }\n        else {\n            if (this._touchTime > 0 && this._touchTime < 30) {\n                // if (this._doubleTime < 10 )\n                // {\n                //    this._doubleTime++;\n                // }\n                // if( this._doubleTime >= 10)\n                // {\n                this.node.emit(\"touch-short\");\n                this._touchTime = 0;\n                this._doubleTime = 0;\n                //}\n\n            }\n        }\n    }\n}\n"]}