{"version":3,"sources":["assets\\Games\\texas\\script\\View\\UIStateBase.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import ViewBase from \"../../../../Script/BaseFrame/ViewBase\";\n\nexport default class UIStateBase extends ViewBase {\n    public StateToActive = false;//true:表示state<0时隐藏对象本身,false:自身不受state控制\n    public state = 0;\n    public get State(): number {\n        return this.state;\n    }\n    public set State(value: number) {\n        this.SetState(value);\n    }\n\n    public image: fgui.GLoader;\n    public text: fgui.GTextField;\n    public sprites: string[];\n    public texts: string[];\n    public objs: fgui.GObject[];\n    private preObj: fgui.GObject = null;\n\n    private onLoadEnd = false;\n    OnLoadCompleted() {\n        this.onLoadEnd = true;\n        if (this.mystart) this.MyStartEx();\n    }\n\n    MyStart() {\n        this.mystart = true;\n        if (this.onLoadEnd) this.MyStartEx();\n    }\n\n    MyStartEx() {\n        // super.AutoSetGoProperty();\n        if (this.image == null) { if (this.node.name == \"GLoader\") this.image = this.fguiComponent.asLoader }\n        if (this.text == null) { if (this.node.name == \"GTextField\") this.text = this.fguiComponent.asTextField; }\n        this.HideObjs();\n\n        this.SetState(this.state);\n    }\n\n\n\n\n\n    AutoSetGoProperty() { }\n\n    public SetState(state: number) {\n        this.state = state;\n        if (this.StateToActive) { this.fguiComponent.visible = (state >= 0); }\n        this.ShowObj(this.state);\n        this.ShowSprite(state);\n        this.ShowText(state);\n    }\n\n    private ShowSprite(state: number) {\n        if (state < 0) { return; }\n\n        if (this.sprites != null && this.sprites.length > state && this.image != null) {\n            this.image.url = this.sprites[state];\n        }\n    }\n\n    private ShowText(state: number) {\n        if (state < 0) { return; }\n        if (this.texts != null && this.texts.length > state && this.text != null) {\n            this.text.text = this.texts[state];\n        }\n\n    }\n\n    private HideObjs() {\n        if (this.objs == null) { return; }\n        for (var i = 0; i < this.objs.length; i++) {\n            this.objs[i].visible = false;\n        }\n    }\n\n    private ShowObj(state: number) {\n        this.HidePreObj();\n        if (state < 0) { return; } // state 小于 0 默认隐藏全部\n        if (this.objs == null || this.objs.length <= state) { return; }\n        this.objs[state].visible = true;\n        this.preObj = this.objs[state];\n    }\n\n    private HidePreObj() {\n        if (this.preObj != null) { this.preObj.visible = false; }\n    }\n\n    public Show() {\n        this.node.active = true;\n        super.Show();\n    }\n\n    public Hide() {\n        super.Hide();\n        this.node.active = false;\n    }\n}"]}