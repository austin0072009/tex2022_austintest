{"version":3,"sources":["assets\\Games\\texas\\script\\View\\TexasTipView.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import ViewBase from \"../../../../Script/BaseFrame/ViewBase\";\nimport { TexasLanguage } from \"../Model/TexasLanguage\";\n\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class TexasTipView extends ViewBase {\n    public ui_tipContent: fgui.GTextField = null;\n    public ui_tipOK: fgui.GButton = null;\n    public ui_tipOKClick: fgui.GButton = null;\n    public ui_tipClose: fgui.GButton = null;\n    public ui_tipOKClickText: fgui.GTextField = null;\n    public ui_tipOKText: fgui.GTextField = null;\n    public ui_tipCloseText: fgui.GTextField = null;\n    public ui_tipLabel: fgui.GTextField = null;\n\n    private _funOK: Function = null;\n    private _funClose: Function = null;\n    private okStartX = 0;\n\n    private onLoadEnd = false;\n    private messages: string[] = [];\n    OnLoadCompleted() {\n        this.onLoadEnd = true;\n\n        if (this.mystart) this.MyStartEx();\n    }\n\n    public MyStart() {\n        this.mystart = true;\n        if (this.onLoadEnd) this.MyStartEx();\n    }\n\n\n    private MyStartEx() {\n        if (this.ui_tipContent == null) super.AutoSetGoProperty();\n        this.okStartX = this.ui_tipOK.x;\n        this.messages = [];\n        // this.moveAnimation = this.fguiComponent.getTransition(\"t0\");\n        // this.moveAnimation.stop();\n        this.Hide();\n    }\n\n    AutoSetGoProperty() { }\n\n\n    public ShowTip(mes: string, funok?: Function, funclose?: Function, okText = TexasLanguage.getLanguageById(1432), closeText = TexasLanguage.getLanguageById(1393)) {\n        this.setControllerProperty(\"type\", 0);\n        this.ui_tipContent.text = mes;\n        this._funOK = funok;\n        this._funClose = funclose;\n\n        this.ui_tipOKClickText.text = okText;\n        this.ui_tipOKText.text = okText;\n        this.ui_tipCloseText.text = closeText;\n\n\n        if (this._funOK) {\n            this.ui_tipOKClick.onClick(() => {\n                this._funOK();\n                this.Hide();\n            });\n\n            this.ui_tipOK.onClick(() => {\n                this._funOK();\n                this.Hide();\n            });\n        } else {\n            this.ui_tipOK.onClick(() => {\n                this.Hide();\n            });\n        }\n\n        if (this._funClose) {\n            this.ui_tipClose.onClick(() => {\n                this._funClose();\n                this.Hide();\n            });\n\n            this.ui_tipOK.visible = false;\n            this.ui_tipOKClick.visible = true;\n            this.ui_tipClose.visible = true;\n        } else {\n            this.ui_tipOK.visible = true;\n            this.ui_tipOKClick.visible = false;\n            this.ui_tipClose.visible = false;\n        }\n        this.Show();\n    }\n\n    public ShowTipLabel(mes: string) {\n        // this.messages.push(mes);\n        // if (!this.isOpend) {\n        //     this.tipMessage();\n        // }\n        console.log(\"---ShowTipLabel---\", mes);\n        this.setControllerProperty(\"type\", 1);\n        this.Show();\n\n        this.ui_tipLabel.visible = false;\n        let node: cc.Node = cc.instantiate(this.ui_tipLabel.node);\n        node.parent = this.ui_tipLabel.node.parent;\n        node.position = this.ui_tipLabel.node.position;\n        node.getComponent(cc.Label).string = mes;\n        node.active = true;\n        node.opacity = 255;\n        cc.tween(node)\n            .parallel(\n                cc.tween().by(1.5, { position: cc.v3(0, 400, 0) }),\n                cc.tween().to(1.5, { opacity: 128 })\n            )\n            .call(() => {\n                node.removeFromParent(true);\n            })\n            .start()\n    }\n\n    // private isOpend: boolean = false;\n    // private moveAnimation: fgui.Transition;\n    // private tipMessage() {\n    //     let mess = this.messages.shift();\n    //     if (!mess) {\n    //         this.isOpend = false;\n    //         this.Hide();\n    //         return;\n    //     }\n    //     this.setControllerProperty(\"type\", 1);\n    //     this.Show();\n    //     this.isOpend = true;\n    //     this.ui_tipLabel.text = mess;\n    //     this.moveAnimation.play(() => {\n    //         this.ui_tipLabel.text = '';\n    //         this.tipMessage();\n    //     }, 1)\n    // }\n\n\n    Hide() {\n        this.ui_tipOK.clearClick();\n        this.ui_tipOKClick.clearClick();\n        this.ui_tipClose.clearClick();\n        super.Hide();\n        this.node.active = false;\n    }\n\n    Show() {\n        this.node.active = true;\n        super.Show();\n    }\n\n    onDestroy() {\n        // this.moveAnimation.stop();\n    }\n}"]}