{"version":3,"sources":["assets\\Script\\modules\\@slotsmaster\\ui-common\\lib\\Coin\\Integral.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["\nimport FguiComponentBase from \"../../../../@mogafa/fairygui-component/lib/FguiComponentBase\";\n\n\nexport class Integral extends FguiComponentBase {\n    protected get packageResourceName(): string {\n        return null;\n    }\n    protected get packageName(): string {\n        return \"Common\";\n    }\n    protected get componentName(): string {\n        return \"Integral\";\n    }\n\n    private _coinNode: cc.Node;\n    private _isCoinSpred: boolean = false;\n\n    protected createChildComponents() {\n        super.createChildComponents();\n        this._coinNode = this.fguiComponent.node;\n    }\n\n    /**\n     * 金币飞行动画\n     * @param startPos\n     * @param endPos\n     */\n    coinFly(startPos: cc.Vec2, endPos: cc.Vec2) {\n        this._isCoinSpred = false;\n        this._coinNode.zIndex = 2000;\n        this._coinNode.scale = 0.4;\n        this._coinNode.position = cc.v3(startPos.x, startPos.y, 0);\n\n        let randomx1 = endPos.x - startPos.x;\n\n        let randomx2 = startPos.x - endPos.x;\n\n        let randomy1 = endPos.y - startPos.y;\n\n        let randomy2 = startPos.y - endPos.y;\n\n        let q1 = cc.v2(0, 0);\n        let q2 = cc.v2(0, 0);\n        let romx = cc.misc.lerp(-100, 100, Math.random());\n\n        let romy = cc.misc.lerp(-100, 100, Math.random());\n\n        if (romx > 0) {\n            q1.x = startPos.x + romx + 100;\n        } else {\n            q1.x = startPos.x + romx - 100;\n        }\n\n        if (romy > 0) {\n            q1.y = startPos.y + romy + 100;\n        } else {\n            q1.y = startPos.y + romy - 100;\n        }\n\n        if (endPos.x > startPos.x) {\n            q2.x = q1.x + randomx1 * Math.random();\n        } else {\n            q2.x = q1.x - randomx2 * Math.random();\n        }\n\n        if (endPos.y > startPos.y) {\n            q2.y = q1.y - randomy1 * Math.random();\n        } else {\n            q2.y = q1.y + randomy2 * Math.random();\n        }\n        this._coinNode.runAction(cc.sequence(cc.delayTime(1), cc.fadeOut(1 / 30)));\n        this._coinNode.runAction(\n            cc.sequence(\n                cc.bezierTo(1, [q1, q2, endPos]),\n                cc.callFunc(() => {\n                    if (this.fguiComponent.node.isValid) {\n                        this.fguiComponent.node.destroy();\n                    }\n                })\n            )\n        );\n    }\n}\n"]}