{"version":3,"sources":["assets\\Script\\modules\\spin-result\\SpinResultsWheel.js"],"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__metadata","k","v","metadata","__importDefault","mod","__esModule","exports","value","class_transformer_1","require","SpinResultsWheeItem_1","SpinResultsWheel","values","finalValue","_values","_finalValue","_finalPosition","findIndex","Type","Array","prototype","Expose","Exclude"],"mappings":"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","sourceRoot":"/","sourcesContent":["\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * spin结果转盘数据\n */\nconst class_transformer_1 = require(\"class-transformer\");\nconst SpinResultsWheeItem_1 = __importDefault(require(\"./SpinResultsWheeItem\"));\nlet SpinResultsWheel = class SpinResultsWheel {\n    /**\n     * 构造函数\n     * @param values 值\n     * @param finalValue 最终值\n     */\n    constructor(values, finalValue) {\n        this._values = [];\n        this._finalValue = null;\n        this._finalPosition = -1;\n        this._values = values;\n        this._finalValue = finalValue;\n    }\n    /**\n     * 获取转盘值\n     */\n    get values() {\n        return this._values;\n    }\n    /**\n     * 设置转盘值\n     */\n    set values(value) {\n        this._values = value;\n        if (!this._values) {\n            this._values = [];\n        }\n        if (this._finalValue) {\n            this._finalPosition = this._values.findIndex((v) => v.value === this._finalValue.value);\n        }\n    }\n    /**\n     * 获取最终值\n     */\n    get finalValue() {\n        return this._finalValue;\n    }\n    /**\n     * 设置最终值\n     */\n    set finalValue(value) {\n        this._finalValue = value;\n        if (this._values) {\n            this._finalPosition = this._values.findIndex((v) => v == value);\n        }\n    }\n    /**\n     * 获取最终位置\n     */\n    get finalPosition() {\n        return this._finalPosition;\n    }\n};\n__decorate([\n    class_transformer_1.Type(() => SpinResultsWheeItem_1.default),\n    __metadata(\"design:type\", Array)\n], SpinResultsWheel.prototype, \"_values\", void 0);\n__decorate([\n    class_transformer_1.Type(() => SpinResultsWheeItem_1.default),\n    __metadata(\"design:type\", SpinResultsWheeItem_1.default)\n], SpinResultsWheel.prototype, \"_finalValue\", void 0);\n__decorate([\n    class_transformer_1.Expose(),\n    __metadata(\"design:type\", Array),\n    __metadata(\"design:paramtypes\", [Array])\n], SpinResultsWheel.prototype, \"values\", null);\n__decorate([\n    class_transformer_1.Expose(),\n    __metadata(\"design:type\", SpinResultsWheeItem_1.default),\n    __metadata(\"design:paramtypes\", [SpinResultsWheeItem_1.default])\n], SpinResultsWheel.prototype, \"finalValue\", null);\nSpinResultsWheel = __decorate([\n    class_transformer_1.Exclude(),\n    __metadata(\"design:paramtypes\", [Array, SpinResultsWheeItem_1.default])\n], SpinResultsWheel);\nexports.default = SpinResultsWheel;\n"]}