{"version":3,"sources":["assets\\Script\\modules\\@slotsmaster\\ui-common\\lib\\Win\\Win.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["\n\nimport { Coin } from \"../Coin/Coin\";\nimport { BigWinSpread } from \"../Coin/BigWinSpread\";\nimport WinSpine from \"./WinSpine\"; \nimport { Popup } from \"../Popup\"; \nimport RippleSpine from \"../Ripple/RippleSpine\";\nimport SoundMgr from \"../../../../@mogafa/utils/lib/SoundMgr\";\nimport { Integral } from \"../Coin/Integral\";\nimport { Utils } from \"../../../../@mogafa/utils/lib/Utils\";\nimport SpinResultsGameWheel from \"../../../../spin-result/SpinResultsGameWheel\";\n\n\nenum WinType {\n    BIG = 2,\n    SUPER,\n    MEGA,\n}\n\nconst BIG_WIN_AD: string = \"BIG_WIN_AD\";\n\nexport class Win extends Popup {\n    protected get basePanel(): string {\n        return \"\";\n    }\n    protected get animNode(): cc.Node[] {\n        throw new Error(\"Method not implemented.\");\n    }\n    protected get buttonOKName(): string {\n        return \"\";\n    }\n    protected get goldGrowName(): string[] {\n        throw new Error(\"Method not implemented.\");\n    }\n    protected get normalNumName(): string[] {\n        throw new Error(\"Method not implemented.\");\n    }\n    public _winUp: WinSpine;\n    public _winDown: WinSpine;\n    //* win up节点\n    public _winUpNode: cc.Node;\n    //* win down节点\n    public _winDownNode: cc.Node;\n    //* 收集按钮\n    public _collectButton: fgui.GButton;\n    //* 双别按钮\n    public _doubleButton: fgui.GButton;\n    //* 金币对象\n    public _coin: fgui.GObject;\n    //* 积分对象\n    public _integral: fgui.GObject;\n    //* win类型\n    public _winType: number;\n    //private bigWinTable: PublicTurnTable;\n    public _gameWheel: SpinResultsGameWheel;\n    //* 金币动画结束坐标\n    public _coinEndPos: cc.Vec2;\n    //* 积分动画结束坐标\n    public _integralEndPos: cc.Vec2;\n    //* 飞行金币数\n    public _flyCoins: number = 100;\n    //* 飞行积分数\n    public _flyIntegrals: number = 20;\n    //* 金币是否开始飞行\n    public _isCoinFly: boolean = false;\n    //* 奖励金币\n    public _rewardCoins: number;\n    //* 奖励积分\n    public _rewardIntegral: number;\n    //* 点击缓存\n    public _clickBuffer: number = 0;\n    //* 波纹节点\n    public _rippleNode: cc.Node;\n    //* 波纹spine\n    public _rippleSpine: RippleSpine;\n    //* 倒计时\n    public _countdownText: fgui.GTextField;\n\n    public _btnground: cc.Button;\n\n    protected get packageResourceName(): string {\n        return \"GameCommon\";\n    }\n    protected get packageName(): string {\n        return \"Common\";\n    }\n    protected get componentName(): string {\n        return \"Win\";\n    }\n    public get closeTime(): number {\n        return -1;\n    }\n    public get coinEndPos(): cc.Vec2 {\n        return this._coinEndPos;\n    }\n    public set coinEndPos(value: cc.Vec2) {\n        this._coinEndPos = value;\n    }\n    public get integralEndPos(): cc.Vec2 {\n        return this._integralEndPos;\n    }\n    public set integralEndPos(value: cc.Vec2) {\n        this._integralEndPos = value;\n    }\n    public get isCoinFly(): boolean {\n        return this._isCoinFly;\n    }\n\n    public set isCoinFly(value: boolean) {\n        this._isCoinFly = value;\n    }\n    public _autoCloseCount: number = -1;\n    public get autoCloseCount(): number {\n        return this._autoCloseCount;\n    }\n    public set autoCloseCount(value: number) {\n        this._autoCloseCount = value;\n        if (this.autoCloseCount > 0) {\n            this._countdownText.text = this.autoCloseCount + \"\";\n        } else if (this.autoCloseCount === 0) {\n            this.collectAward();\n        } else {\n            return;\n        }\n    }\n    //* 倒计时\n    public _countdown: number = -1;\n\n    protected createChildComponents() {\n        console.log(\"Win ======createChildComponents\")\n        super.createChildComponents();\n        this.initChildComponents()\n    }\n\n    allChildCreated() {\n        super.allChildCreated();\n        //this.parent.addChild(this.bigWinTable);\n        //this._collectButton.x+=180\n\n\n    }\n\n    public initChildComponents() {\n        //* bigwin节点及spine\n        this._winUpNode = this.fguiComponent.getChild(\"winUp\").node;\n        this._winDownNode = this.fguiComponent.getChild(\"winDown\").node;\n        this._winUpNode.zIndex = 90;\n        this._winUp = new WinSpine(this._winUpNode);\n        this.addChild(this._winUp);\n        this._winDown = new WinSpine(this._winDownNode);\n        this.addChild(this._winDown);\n        //* 收集按钮\n        this._collectButton = this.getChild(\"collectButton\").asButton;\n        this._collectButton.onClick(this.collectAward.bind(this));\n        //* 双倍收集按钮\n        this._doubleButton = this.getChild(\"doubleButton\").asButton;\n        this._doubleButton.onClick(this.adButtonClick.bind(this));\n        //* 金币、积分文本\n        this._coin = this.fguiComponent.getChild(\"winCoin\");\n        this._integral = this.fguiComponent.getChild(\"winIntegral\");\n        this._coin.node.zIndex = 99;\n        this._integral.node.zIndex = 99;\n        //* bigwin转盘\n        //this.bigWinTable = this.addFguiComponent(PublicTurnTable);\n        //* 金币、积分飞行动画终点\n        //@ts-ignore\n        this.coinEndPos = this.getChild(\"coin\").node.position;\n         //@ts-ignore\n        this.integralEndPos = this.getChild(\"integral\").node.position;\n        //* 加载波纹节点、spine\n        this._rippleNode = this.getChild(\"ripple\").node;\n        this._rippleNode.zIndex = 99;\n        this._rippleSpine = new RippleSpine(this._rippleNode);\n        this.addChild(this._rippleSpine);\n        //* 倒计时文本\n        this._countdownText = this.getChild(\"countdown\").asTextField;\n        this.toggleStaticUI(false);\n    }\n\n    /**\n     * 收集奖励\n     */\n    public collectAward(): void {\n        console.log(\"collectAward\")\n        SoundMgr.getInstance().playEffect(\"button\");\n        if (!this.isCoinFly && this._clickBuffer === 0) {\n            // this.unschedule(this.executeCountdown);\n            this.unscheduleAllCallbacks()\n            this.resetBigWinSpread();\n            this._countdownText.visible = false;\n            this._clickBuffer++;\n            this.isCoinFly = true;\n            //* 金币飞行音效\n            SoundMgr.getInstance().playEffect(\"frame_coins\");\n            this.stopWinAnimation();\n\n        }\n    }\n\n    /**\n     * 收集奖励\n     */\n    public collectAward2(): void {\n        console.log(\"collectAward2\")\n\n        // this.unschedule(this.executeCountdown);\n        this.unscheduleAllCallbacks()\n        this.resetBigWinSpread();\n        this._countdownText.visible = false;\n        this._clickBuffer = 0;\n        this.fguiComponent.node.off(cc.Node.EventType.TOUCH_END)\n        if (this.winFinishedCallback) {\n            this.winFinishedCallback(this._rewardCoins, this._rewardIntegral);\n            this.winFinishedCallback = null;\n        }\n        this.stopWinAnimation();\n        this.hide()\n\n    }\n    /**\n     * 双倍收集奖励\n     */\n    public adButtonClick(): void {\n        SoundMgr.getInstance().playEffect(\"button\");\n        this.node.emit(BIG_WIN_AD);\n        // this.stopWinAnimation();\n    }\n    /**\n     * 绑定广告按钮点击事件\n     * @param listener\n     */\n    public onAdButtonClick(listener: Function): void {\n        this.node.off(BIG_WIN_AD);\n        this.node.on(BIG_WIN_AD, listener);\n    }\n\n    update(dt: number): void {\n        if (this.isCoinFly) {\n            if (this._rewardCoins && this._rewardCoins > 0 && this._flyCoins > 0) {\n                this._flyCoins -= 2;\n                this.coinFly();\n                this._rippleSpine.ripple();\n            } else if (this._rewardIntegral && this._rewardIntegral > 0 && this._flyIntegrals > 0) {\n                this._flyIntegrals -= 2;\n                this.integralFly();\n            } else {\n                this.isCoinFly = false;\n                this.coinFlyCallback();\n            }\n        }\n    }\n\n    /**\n     * 金币动画执行完毕回调\n     */\n    public coinFlyCallback(): void {\n        if (this._clickBuffer > 1) {\n            return;\n        }\n        this.scheduleOnce(() => {\n            this._rippleSpine.closeRipple();\n            //* 停止金币飞行音效\n            SoundMgr.getInstance().stopEffect(\"frame_coins\");\n            this.hide();\n            if (this.winFinishedCallback) {\n                this.winFinishedCallback(this._rewardCoins, this._rewardIntegral);\n                this.winFinishedCallback = null;\n            }\n        }, 1.2);\n    }\n\n    /**\n     * 执行金币飞行动画\n     */\n    public coinFly(): void {\n        let coin: Coin = this.addFguiComponent(Coin);\n        coin.onAllChildCreated(() => {\n            let startPos: cc.Vec2 = cc.v2(660 + Math.random() * 200, -500 - Math.random() * 100);\n            coin.coinFly(startPos, this.coinEndPos);\n        });\n    }\n    /**\n     * 执行积分飞行动画\n     */\n    public integralFly(): void {\n        let integral: Integral = this.addFguiComponent(Integral);\n        integral.onAllChildCreated(() => {\n            let startPos: cc.Vec2 = cc.v2(660 + Math.random() * 200, -650 - Math.random() * 100);\n            integral.coinFly(startPos, this.integralEndPos);\n        });\n    }\n\n    public winFinishedCallback: Function;\n\n    /**\n     * 弹出win框\n     * @param WinType win框类型\n     * @param coin 金币数\n     * @param countdown 倒计时\n     * @param gameWheel 游戏转盘数据\n     * @param callback win框关闭后回调\n     */\n    public popUpWin(\n        winType: number,\n        coin: number,\n        countdown: number,\n        gameWheel?: SpinResultsGameWheel,\n        callback?: Function\n    ) {\n        this.resetFly();\n        this._rewardCoins = !isNaN(coin) ? coin : 0;\n        // this._rewardIntegral = !isNaN(integral) ? integral : 0;\n        this.winFinishedCallback = callback;\n        this._gameWheel = gameWheel;\n        this._winType = winType;\n        this._countdown = countdown;\n        this.autoCloseCount = this._countdown;\n        this.show();\n        this.fguiComponent.node.on(cc.Node.EventType.TOUCH_END, this.collectAward2, this)\n        //* 获取到win框类型后执行spine动画\n        switch (winType) {\n            case WinType.BIG:\n                this._winUp.bigWin();\n                this._winDown.bigWinBg();\n                break;\n            case WinType.SUPER:\n                this._winUp.superWin();\n                this._winDown.superWinBg();\n                break;\n            case WinType.MEGA:\n                this._winUp.megaWin();\n                this._winDown.megaWinBg();\n                break;\n            default:\n                this._winUp.bigWin();\n                this._winDown.bigWinBg();\n                break;\n        }\n        this.scheduleOnce(() => {\n            //* 播放win框背景音效\n            SoundMgr.getInstance().playEffect(\"big_win\");\n            this.showCoin(coin);\n            this._collectButton.visible = true;\n            this.countdown();\n\n        }, 0.6);\n        //* 延时展示按钮\n        //this.scheduleOnce(() => {\n        //this._collectButton.visible = true;\n        //this._doubleButton.visible = true;\n        // this._countdownText.visible = true;\n        //this.countdown();\n        //}, 2);\n    }\n\n    /**\n     * 倒计时\n     */\n    public countdown(): void {\n        if (this._countdown < 0) {\n            return;\n        }\n        this.schedule(this.executeCountdown.bind(this), 1, this._countdown);\n    }\n\n    /**\n     * 执行倒计时\n     */\n    public executeCountdown(): void {\n        this.autoCloseCount--;\n    }\n\n    /**\n     * 金币展示\n     * @param coin\n     * @param integral\n     */\n    public showCoin(coin: number, integral?: number): void {\n        let winCoinField = this._coin.asTextField;\n        let winIntegralField = this._integral.asTextField;\n        winCoinField.text = Utils.formatNumberToInt(\"0\");\n        winIntegralField.text = Utils.formatNumberToInt(\"0\");\n        this._coin.visible = true;\n        // this._integral.visible = true;\n        winCoinField.asMogafaNumberField().play(0, coin, 2);\n        // winIntegralField.asMogafaNumberField().play(0, integral, 1);\n        this._integral;\n        //* 执行金币飞洒动画\n        this.coinSpread();\n        //* 播放金币飞洒音效\n        SoundMgr.getInstance().playEffect(\"big_win_cions\");\n        this.scheduleOnce(() => {\n            SoundMgr.getInstance().stopEffect(\"big_win_cions\");\n        }, 4);\n    }\n    /**\n     * 关闭WIN弹窗动画\n     */\n    public stopWinAnimation(): void {\n        //* 停止播放win框背景音效\n        SoundMgr.getInstance().stopEffect(\"big_win\");\n        SoundMgr.getInstance().stopEffect(\"big_win_cions\");\n        switch (this._winType) {\n            case WinType.BIG:\n                this._winUp.bgWinHide();\n                this._winDown.bgWinBgHide();\n                break;\n            case WinType.SUPER:\n                this._winUp.superWinHide();\n                this._winDown.superWinBgHide();\n                break;\n            case WinType.MEGA:\n                this._winUp.megaWinHide();\n                this._winDown.megaWinBgHide();\n                break;\n            default:\n                this._winUp.bgWinHide();\n                this._winDown.bgWinBgHide();\n                break;\n        }\n        this._clickBuffer = 0;\n        this.scheduleOnce(() => {\n            this.toggleStaticUI(false);\n        }, 0.3);\n    }\n\n    /**\n     * 金币飞洒动画\n     * @param interval\n     * @param repeat\n     */\n    public sccoinSpread(): void {\n        let coin1 = this.addFguiComponent(BigWinSpread);\n        coin1.onAllChildCreated(coin1.degree30CoinsLeft);\n        let coin2 = this.addFguiComponent(BigWinSpread);\n        coin2.onAllChildCreated(coin2.degree30CoinsRight);\n        let coin3 = this.addFguiComponent(BigWinSpread);\n        coin3.onAllChildCreated(coin3.degree50CoinsLeft);\n        let coin4 = this.addFguiComponent(BigWinSpread);\n        coin4.onAllChildCreated(coin4.degree50CoinsRight);\n        let coin5 = this.addFguiComponent(BigWinSpread);\n        coin5.onAllChildCreated(coin5.degree70CoinsLeft);\n        let coin6 = this.addFguiComponent(BigWinSpread);\n        coin6.onAllChildCreated(coin6.degree70CoinsRight);\n        let coin7 = this.addFguiComponent(BigWinSpread);\n        coin7.onAllChildCreated(coin7.verticalCoinsLeft);\n        let coin8 = this.addFguiComponent(BigWinSpread);\n        coin8.onAllChildCreated(coin8.verticalCoinsRight);\n    }\n\n\n    public coinSpread(interval: number = 0.1, repeat: number = 20) {\n        this.schedule(\n            this.sccoinSpread.bind(this),\n            0.1,\n            repeat - 1\n        );\n    }\n\n    /**\n     * 显示/隐藏静态UI\n     */\n    public toggleStaticUI(isShow: boolean): void {\n        this._coin.visible = isShow;\n        this._integral.visible = isShow;\n        this._collectButton.visible = isShow;\n        this._doubleButton.visible = isShow;\n        // this._countdownText.visible = isShow;\n    }\n\n    /**\n     * 重置飞行参数\n     */\n    public resetFly(): void {\n        console.log(\"resetFly\")\n        this._rewardCoins = 0;\n        this._rewardIntegral = 0;\n        this._flyCoins = 100;\n        this._flyIntegrals = 20;\n    }\n\n\n    public resetBigWinSpread(): void {\n        let list = []\n        for (let i = 0; i < this._children.length; i++) {\n            let value = this._children[i]\n            if (i > 2) {\n                if (value.fguiComponent && value.fguiComponent.node) {\n                    value.fguiComponent.node.destroy();\n                }\n            } else {\n                list.push(value)\n            }\n        }\n\n        this._children = list\n    }\n}\n"]}