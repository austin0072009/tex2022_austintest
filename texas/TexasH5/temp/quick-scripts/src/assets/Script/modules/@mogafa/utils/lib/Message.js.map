{"version":3,"sources":["assets\\Script\\modules\\@mogafa\\utils\\lib\\Message.ts"],"names":[],"mappings":";;;;;;AAAA,+CAA0C;AAE1C;IAAA;QACI,UAAK,GAAW,CAAC,CAAC;QAClB,aAAQ,GAAW,CAAC,CAAC;IAoBzB,CAAC;IAjBU,kBAAU,GAAjB,UAAkB,IAAiB;QAC/B,IAAI,MAAM,GAAG,sBAAY,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;QAC1C,IAAI,OAAO,GAAG,IAAI,OAAO,EAAE,CAAC;QAC5B,OAAO,CAAC,KAAK,GAAG,MAAM,CAAC,SAAS,EAAE,CAAC;QACnC,OAAO,CAAC,KAAK,IAAI,MAAM,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;QACzC,OAAO,CAAC,IAAI,GAAG,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC,CAAC;QACrD,OAAO,OAAO,CAAC;IACnB,CAAC;IAEM,gBAAQ,GAAf,UAAgB,KAAa,EAAE,IAAiB;QAC5C,IAAI,MAAM,GAAG,sBAAY,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC;QACpD,MAAM,CAAC,UAAU,CAAC,KAAK,GAAG,IAAI,CAAC,CAAC;QAChC,MAAM,CAAC,UAAU,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC;QACvC,4BAA4B;QAC5B,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QACtB,OAAO,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC;IAChC,CAAC;IACL,cAAC;AAAD,CAtBA,AAsBC,IAAA","file":"","sourceRoot":"/","sourcesContent":["import MyByteBuffer from \"./MyByteBuffer\";\n\nexport default class Message {\n    msgid: number = 0;\n    playerid: number = 0;\n    data: ArrayBuffer;\n\n    static fromBuffer(data: ArrayBuffer): Message {\n        let buffer = MyByteBuffer.warpBytes(data);\n        let message = new Message();\n        message.msgid = buffer.readUint8();\n        message.msgid += buffer.readUint8() << 8;\n        message.data = buffer.readBytes(data.byteLength - 2);\n        return message;\n    }\n\n    static toBuffer(msgid: number, data: ArrayBuffer): ArrayBuffer {\n        let buffer = MyByteBuffer.warp(2 + data.byteLength);\n        buffer.writeUint8(msgid & 0xff);\n        buffer.writeUint8((msgid >> 8) & 0xff);\n        // buffer.writeInt16(msgid);\n        buffer.setBytes(data);\n        return buffer.buffer.buffer;\n    }\n}\n"]}