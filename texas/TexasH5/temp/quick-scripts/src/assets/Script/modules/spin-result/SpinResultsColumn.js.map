{"version":3,"sources":["assets\\Script\\modules\\spin-result\\SpinResultsColumn.js"],"names":["require","__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__metadata","k","v","metadata","__importDefault","mod","__esModule","exports","value","SpinResultsCell_1","SpinResultsConst_1","class_transformer_1","SpinResultsColumn","cells","isHoldWin","_cells","_codes","_stopCodes","_replaceCodes","_isHoldWin","getReplaceCodes","code","mockCodes","stopCode","NO_MOCK_CODE","replaceCodes","noReplaceCodesPosition","push","shift","splice","cell","replace","Type","Array","prototype","Expose","Boolean","Exclude"],"mappings":"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","sourceRoot":"/","sourcesContent":["\"use strict\";\nrequire(\"reflect-metadata\");\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst SpinResultsCell_1 = __importDefault(require(\"./SpinResultsCell\"));\nconst SpinResultsConst_1 = __importDefault(require(\"./SpinResultsConst\"));\nconst class_transformer_1 = require(\"class-transformer\");\nlet SpinResultsColumn = class SpinResultsColumn {\n    constructor(cells, isHoldWin) {\n        this._cells = [];\n        this._codes = [];\n        this._stopCodes = [];\n        this._replaceCodes = [];\n        this._isHoldWin = false;\n        this._isHoldWin = isHoldWin;\n        this.cells = cells;\n    }\n    get cells() {\n        return this._cells;\n    }\n    set cells(value) {\n        this._cells = value;\n        this._codes = [];\n        this._stopCodes = [];\n        this._replaceCodes = [];\n        if (!this._cells) {\n            this._cells = [];\n        }\n        for (let i = 0; i < this._cells.length; i++) {\n            const cell = this._cells[i];\n            this._codes.push(cell.code);\n            let replace = this.getReplaceCodes(cell.code, cell.mockCodes);\n            this._stopCodes.push(replace.stopCode);\n            this._replaceCodes.push(replace.replaceCodes);\n        }\n    }\n    getReplaceCodes(code, mockCodes) {\n        let stopCode = SpinResultsConst_1.default.NO_MOCK_CODE;\n        let replaceCodes = [];\n        let noReplaceCodesPosition = [];\n        for (let i = 0; i < mockCodes.length; i++) {\n            if (mockCodes[i] === SpinResultsConst_1.default.NO_MOCK_CODE) {\n                noReplaceCodesPosition.push(i);\n            }\n            else {\n                replaceCodes.push(mockCodes[i]);\n            }\n        }\n        if (replaceCodes.length == 0) {\n            return { stopCode: code, replaceCodes: mockCodes };\n        }\n        stopCode = replaceCodes.shift();\n        replaceCodes.push(code);\n        for (let i = 0; i < noReplaceCodesPosition.length; i++) {\n            replaceCodes.splice(noReplaceCodesPosition[i], 0, SpinResultsConst_1.default.NO_MOCK_CODE);\n        }\n        return { stopCode: stopCode, replaceCodes: replaceCodes };\n    }\n    get codes() {\n        return this._codes;\n    }\n    get isHoldWin() {\n        return this._isHoldWin;\n    }\n    set isHoldWin(value) {\n        this._isHoldWin = value;\n    }\n    get replaceCodes() {\n        return this._replaceCodes;\n    }\n    get stopCodes() {\n        return this._stopCodes;\n    }\n};\n__decorate([\n    class_transformer_1.Type(() => SpinResultsCell_1.default),\n    __metadata(\"design:type\", Array)\n], SpinResultsColumn.prototype, \"_cells\", void 0);\n__decorate([\n    class_transformer_1.Expose(),\n    class_transformer_1.Type(() => SpinResultsCell_1.default),\n    __metadata(\"design:type\", Array),\n    __metadata(\"design:paramtypes\", [Array])\n], SpinResultsColumn.prototype, \"cells\", null);\n__decorate([\n    class_transformer_1.Expose(),\n    __metadata(\"design:type\", Boolean),\n    __metadata(\"design:paramtypes\", [Boolean])\n], SpinResultsColumn.prototype, \"isHoldWin\", null);\nSpinResultsColumn = __decorate([\n    class_transformer_1.Exclude(),\n    __metadata(\"design:paramtypes\", [Array, Boolean])\n], SpinResultsColumn);\nexports.default = SpinResultsColumn;\n"]}