{"version":3,"sources":["assets\\Script\\Common\\Managers\\MgrLogin.ts"],"names":[],"mappings":";;;;;;;AAAA,uDAAsD;AACtD,8EAA6E;AAC7E,4EAA2F;AAC3F,IAAM,OAAO,GAAG,eAAe,CAAC;AAEhC;IAAA;IAkFA,CAAC;IAhFiB,oBAAW,GAAzB;QACI,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;YAChB,IAAI,CAAC,QAAQ,GAAG,IAAI,QAAQ,EAAE,CAAC;YAC/B,MAAM,CAAC,aAAa,GAAG,IAAI,CAAC,QAAQ,CAAC;SACxC;QACD,OAAO,IAAI,CAAC,QAAQ,CAAC;IACzB,CAAC;IAID;;OAEG;IACH,8BAAW,GAAX,UAAY,aAAuB,EAAE,kBAA4B;QAC7D,IAAI,CAAC,cAAc,GAAG,aAAa,CAAC;QACpC,IAAI,CAAC,mBAAmB,GAAG,kBAAkB,CAAC;QAC9C,IAAI,IAAI,GAAG;YACP,IAAI,EAAE,QAAQ;YACd,KAAK,EAAE,SAAS;YAChB,MAAM,EAAE,qBAAS,CAAC,WAAW,EAAE,CAAC,aAAa,EAAE;YAC/C,IAAI,EAAE,OAAO;YACb,YAAY,EAAE,EAAE;YAChB,KAAK,EAAE,EAAE;YACT,MAAM,EAAE,EAAE;YACV,OAAO,EAAE,EAAE;YACX,WAAW,EAAE,EAAE;YACf,UAAU,EAAE,qBAAS,CAAC,WAAW,EAAE,CAAC,aAAa,EAAE;YACnD,QAAQ,EAAE,SAAS;SACtB,CAAC;QACF,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;IACrB,CAAC;IAED;;OAEG;IACH,6BAAU,GAAV;QACI,GAAG,CAAC,UAAU,CAAC,gBAAgB,CAAC,OAAO,EAAE,yBAAyB,EAAE,iBAAiB,EAAE,SAAS,CAAC,CAAC;IACtG,CAAC;IAED;;OAEG;IACH,qCAAkB,GAAlB,UAAmB,MAAW;QAC1B,IAAI,MAAM,GAAG,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IAEnC,CAAC;IAED,IAAI;IACJ,wBAAK,GAAL,UAAM,IAAY;IAElB,CAAC;IAED,WAAW;IACX,wCAAqB,GAArB,UAAsB,KAAK;IAE3B,CAAC;IAED,gCAAa,GAAb;QAAA,iBAsBC;QArBG,iBAAO,CAAC,IAAI;aACP,GAAG,CAAC,iBAAO,CAAC,MAAM,GAAG,wBAAc,EAAE,EAAE,CAAC;aACxC,IAAI,CACD,UAAC,GAAQ;YACL,IAAI,GAAG,CAAC,IAAI,IAAI,GAAG,EAAE;gBACjB,KAAI,CAAC,mBAAmB,EAAE,CAAC;gBAC3B,OAAO,CAAC,GAAG,CAAC,iBAAiB,EAAE,GAAG,CAAC,IAAI,CAAC,CAAC;gBACzC,mBAAQ,CAAC,QAAQ,GAAG,GAAG,CAAC,IAAI,CAAC;gBAC7B,mBAAQ,CAAC,QAAQ,GAAG,EAAE,CAAC;gBACvB,mBAAQ,CAAC,QAAQ,GAAG,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC;gBACnC,mBAAQ,CAAC,OAAO,GAAG,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC;gBACjC,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;aACjC;QACL,CAAC,EACD,UAAC,GAAG;YACA,KAAI,CAAC,cAAc,EAAE,CAAC;QAC1B,CAAC,CACJ;aACA,KAAK,CAAC,UAAC,GAAG;YACP,KAAI,CAAC,cAAc,EAAE,CAAC;QAC1B,CAAC,CAAC,CAAC;IACX,CAAC;IACL,eAAC;AAAD,CAlFA,AAkFC,IAAA;AAlFY,4BAAQ","file":"","sourceRoot":"/","sourcesContent":["import { MgrNative } from \"../../../Script/MgrNative\";\nimport { AppConst } from \"../../modules/@slotsmaster/ui-common/lib/AppConst\";\nimport HttpApi, { Http_EnterHall } from \"../../modules/@slotsmaster/ui-common/lib/HttpApi\";\nconst IOS_API = \"AppController\";\n\nexport class MgrLogin {\n    protected static instance: MgrLogin;\n    public static getInstance(): MgrLogin {\n        if (!this.instance) {\n            this.instance = new MgrLogin();\n            window.loginInsatnce = this.instance;\n        }\n        return this.instance;\n    }\n    private _callBackError: Function;\n    private _callBackCancelLoad: Function;\n\n    /**\n     * 游客设备登录\n     */\n    deviceLogin(callBackError: Function, callBackCancelLoad: Function) {\n        this._callBackError = callBackError;\n        this._callBackCancelLoad = callBackCancelLoad;\n        var data = {\n            type: \"Device\",\n            appId: \"Windows\",\n            userId: MgrNative.getInstance().getDeviceUUID(),\n            name: \"guest\",\n            headImageUrl: \"\",\n            email: \"\",\n            mobile: \"\",\n            userId2: \"\",\n            accessToken: \"\",\n            deviceUuid: MgrNative.getInstance().getDeviceUUID(),\n            platform: \"Windows\",\n        };\n        this.login(data);\n    }\n\n    /**\n     * 苹果登录\n     */\n    appleLogin() {\n        jsb.reflection.callStaticMethod(IOS_API, \"singInAppleLogin:title:\", \"threePartyLogin\", \"message\");\n    }\n\n    /**\n     * 苹果内置登录返回数据\n     */\n    appleLoginBackData(object: any) {\n        let obrArr = object.split(\";\");\n\n    }\n\n    //登录\n    login(data: object) {\n\n    }\n\n    //Ios内置登录状态\n    singInAppleLoginState(state) {\n\n    }\n\n    enterGameHall() {\n        HttpApi.http\n            .get(HttpApi.server + Http_EnterHall, {})\n            .then(\n                (res: any) => {\n                    if (res.code == 200) {\n                        this._callBackCancelLoad();\n                        console.log(\"enterGameHall::\", res.data);\n                        AppConst.hallData = res.data;\n                        AppConst.gameList = [];\n                        AppConst.gameList = res.data.games;\n                        AppConst.userMsg = res.data.user;\n                        cc.director.loadScene(\"Hall\");\n                    }\n                },\n                (err) => {\n                    this._callBackError();\n                }\n            )\n            .catch((err) => {\n                this._callBackError();\n            });\n    }\n}\n"]}