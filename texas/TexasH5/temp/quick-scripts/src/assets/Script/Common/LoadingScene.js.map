{"version":3,"sources":["assets\\Script\\Common\\LoadingScene.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["/*\n * @Author: sin2021\n * @Date: 2020-05-12 09:57:34\n * @LastEditors: sin2021\n * @LastEditTime: 2020-07-30 13:46:12\n * @Version: CocosCreator V2.2.2\n * @Description:\n */\n\n\nimport { EN, CN } from \"../config/LoadingTips\";\nconst { ccclass, property, menu } = cc._decorator;\n@ccclass\n@menu(\"LoadingScene/LoadingScene\")\nexport default class LoadingScene extends cc.Component {\n    @property(cc.Node)\n    private _loadingMask: cc.Node = null;\n\n    @property(cc.Node)\n    public _progress: cc.Node = null;\n\n    @property(cc.Node)\n    private _Tip: cc.Node = null;\n\n    private coldTime: number;\n    private languae: any;\n    private Index: number = 0;\n    onLoad() {\n        this._loadingMask = this.node.getChildByName(\"mask\");\n        this._progress = this._loadingMask.getChildByName(\"progress\");\n        this._Tip = this.node.getChildByName(\"label\");\n        if (this._Tip) {\n            this._Tip.getComponent(cc.Label).string = \"\"\n        }\n        this.coldTime = 1;\n        this.Index = 0;\n        this.languae = EN\n    }\n\n    /**\n     * 加载进度条\n     * @param process\n     */\n    public loading(process: number): void {\n        this._loadingMask.getComponent(cc.Mask).node.width = (this._progress.width * process) / 100;\n    }\n\n    public loadingTest(step: number = 10, callback: Function) {\n        this._loadingMask.getComponent(cc.Mask).node.width += step;\n        if (this._loadingMask.getComponent(cc.Mask).node.width >= this._progress.width) {\n            callback();\n        }\n    }\n\n    update(dt) {\n        if (this.coldTime < 0 && this._Tip) {\n            this.coldTime = 5\n            let string = this.languae[this.Index]\n            if (!string) {\n                this.Index = 0\n                string = this.languae[this.Index]\n            }\n            this._Tip.getComponent(cc.Label).string = string\n\n            this.Index++\n        }\n\n        this.coldTime -= dt\n    }\n}\n"]}