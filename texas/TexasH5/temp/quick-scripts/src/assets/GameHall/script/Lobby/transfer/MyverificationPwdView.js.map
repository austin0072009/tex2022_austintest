{"version":3,"sources":["assets\\GameHall\\script\\Lobby\\transfer\\MyverificationPwdView.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAAA,0EAAyE;AACzE,oEAAmE;AACnE,kEAA6D;AAC7D,2FAA0F;AAC1F,gDAA2C;AAE3C;;GAEG;AACH;IAAmD,yCAAQ;IAA3D;QAAA,qEAwHC;QA9GW,uBAAiB,GAAiB,IAAI,CAAC;QACvC,qBAAe,GAAiB,IAAI,CAAC;QACrC,qBAAe,GAAiB,IAAI,CAAC;QAErC,oBAAc,GAAiB,IAAI,CAAC;QAEpC,aAAO,GAAoB,IAAI,CAAC;QAChC,aAAO,GAAoB,IAAI,CAAC;QAChC,aAAO,GAAoB,IAAI,CAAC;QAChC,aAAO,GAAoB,IAAI,CAAC;QAChC,aAAO,GAAoB,IAAI,CAAC;QAChC,aAAO,GAAoB,IAAI,CAAC;QAChC,mBAAa,GAAoB,IAAI,CAAC;QAEvC,cAAQ,GAAW,EAAE,CAAC;;IAgGjC,CAAC;IAvHG,sBAAc,sDAAmB;aAAjC;YACI,OAAO,UAAU,CAAC;QACtB,CAAC;;;OAAA;IACD,sBAAc,8CAAW;aAAzB;YACI,OAAO,WAAW,CAAC;QACvB,CAAC;;;OAAA;IACD,sBAAc,gDAAa;aAA3B;YACI,OAAO,WAAW,CAAC;QACvB,CAAC;;;OAAA;IAmBD,qDAAqB,GAArB;QACI,iBAAM,qBAAqB,WAAE,CAAC;QAC9B,IAAI,CAAC,aAAa,CAAC,OAAO,GAAG,KAAK,CAAC;QACnC,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;QACpD,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;QAClD,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;QACjD,IAAI,CAAC,aAAa,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;QACtE,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC;QACpC,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;QACrD,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;IACjE,CAAC;IAED,+CAAe,GAAf;QACI,IAAI,CAAC,IAAI,EAAE,CAAC;IAChB,CAAC;IAED,oCAAI,GAAJ;QACI,iBAAM,IAAI,WAAE,CAAC;IACjB,CAAC;IAEM,wCAAQ,GAAf;QACI,2BAAY,CAAC,SAAS,CAAC,IAAI,CAAC,uBAAuB,EAAE,QAAQ,CAAC,CAAC;QAC/D,IAAI,CAAC,IAAI,EAAE,CAAC;IAChB,CAAC;IAED,YAAY;IACL,2CAAW,GAAlB;QACI,2BAAY,CAAC,SAAS,CAAC,IAAI,CAAC,uBAAuB,EAAE,QAAQ,CAAC,CAAC;QAC/D,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,IAAI,CAAC,EAAE;YAC3B,qBAAS,CAAC,QAAQ,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;YAC3C,OAAO;SACV;QACD,kDAAkD;QAClD,qBAAqB;QACrB,6EAA6E;QAC7E,oBAAoB;QACpB,sBAAY,CAAC,QAAQ,CAAC,eAAe,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,QAAQ;QAC9D,IAAI;IACR,CAAC;IAED,cAAc;IACP,6CAAa,GAApB;QACI,IAAI,CAAC,cAAc,CAAC,aAAa,GAAG,CAAC,CAAC;QACtC,mBAAQ,CAAC,YAAY,CAAC,cAAc,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC;QACtD,IAAI,CAAC,KAAK,EAAE,CAAC;QACb,IAAI,CAAC,aAAa,CAAC,YAAY,EAAE,CAAC;IACtC,CAAC;IACD,cAAc;IACP,sDAAsB,GAA7B;QACI,IAAI,CAAC,IAAI,EAAE,CAAC;QACZ,sBAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC;IAClD,CAAC;IAGM,wCAAQ,GAAf;QACI,IAAI,CAAC,aAAa,CAAC,YAAY,EAAE,CAAC;IACtC,CAAC;IACM,2CAAW,GAAlB,UAAmB,KAAK;QACpB,IAAI,IAAI,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC;QACnC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACrB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;YACxB,IAAI,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE;gBACjB,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC,IAAI,GAAG,EAAE,CAAC;aAChC;iBAAM;gBACH,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;aACrC;SAEJ;IACL,CAAC;IAEM,oCAAI,GAAX;QACI,uDAAuD;QACvD,6CAA6C;QAC7C,WAAW;QACX,IAAI,CAAC,cAAc,CAAC,aAAa,GAAG,CAAC,CAAC;QACtC,IAAI;QACJ,IAAI,CAAC,KAAK,EAAE,CAAC;QACb,iBAAM,IAAI,WAAE,CAAC;IACjB,CAAC;IAEM,qCAAK,GAAZ;QACI,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;QACnB,IAAI,CAAC,aAAa,CAAC,IAAI,GAAG,EAAE,CAAC;QAC7B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;YACxB,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC,IAAI,GAAG,EAAE,CAAC;SAChC;IACL,CAAC;IAEM,uCAAO,GAAd;QACI,IAAI,CAAC,IAAI,EAAE,CAAC;QACZ,sBAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC;IAC3C,CAAC;IACL,4BAAC;AAAD,CAxHA,AAwHC,CAxHkD,kBAAQ,GAwH1D","file":"","sourceRoot":"/","sourcesContent":["import { AudioManager } from \"../../../../Script/BaseFrame/AudioManager\";\r\nimport { CommonCtr } from \"../../../../Script/BaseFrame/CommonCtr\";\r\nimport ViewBase from \"../../../../Script/BaseFrame/ViewBase\";\r\nimport { AppConst } from \"../../../../Script/modules/@slotsmaster/ui-common/lib/AppConst\";\r\nimport LobbyViewCtr from \"../LobbyViewCtr\";\r\n\r\n/**\r\n * @description 支付密码\r\n */\r\nexport default class MyverificationPwdView extends ViewBase {\r\n    protected get packageResourceName(): string {\r\n        return \"gameHall\";\r\n    }\r\n    protected get packageName(): string {\r\n        return \"res/Lobby\";\r\n    }\r\n    protected get componentName(): string {\r\n        return \"yzTxsqcom\";\r\n    }\r\n    private ui_btn_yzzfbreak1: fgui.GButton = null;\r\n    private ui_btn_yzquxiao: fgui.GButton = null;\r\n    private ui_btn_vconfirm: fgui.GButton = null;\r\n\r\n    private ui_btn_inputbg: fgui.GLoader = null;\r\n\r\n    private ui_pwd0: fgui.GTextInput = null;\r\n    private ui_pwd1: fgui.GTextInput = null;\r\n    private ui_pwd2: fgui.GTextInput = null;\r\n    private ui_pwd3: fgui.GTextInput = null;\r\n    private ui_pwd4: fgui.GTextInput = null;\r\n    private ui_pwd5: fgui.GTextInput = null;\r\n    private ui_inputLabel: fgui.GTextInput = null;\r\n\r\n    public inputPwd: string = '';\r\n\r\n    private typeController: fgui.Controller;\r\n\r\n    createChildComponents() {\r\n        super.createChildComponents();\r\n        this.fguiComponent.visible = false;\r\n        this.ui_btn_yzzfbreak1.onClick(this.HideView, this);\r\n        this.ui_btn_yzquxiao.onClick(this.HideView, this);\r\n        this.ui_btn_inputbg.onClick(this.setFocus, this);\r\n        this.ui_inputLabel.on(fgui.Event.TEXT_CHANGE, this.changedText, this);\r\n        this.ui_inputLabel.node.opacity = 0;\r\n        this.ui_btn_vconfirm.onClick(this.sendConfirm, this);\r\n        this.typeController = this.fguiComponent.getController(\"c1\");\r\n    }\r\n\r\n    OnLoadCompleted() {\r\n        this.Show();\r\n    }\r\n\r\n    Hide() {\r\n        super.Hide();\r\n    }\r\n\r\n    public HideView() {\r\n        AudioManager.Singleton.play('MyverificationPwdView', \"button\");\r\n        this.Hide();\r\n    }\r\n\r\n    /**确认验证密码 */\r\n    public sendConfirm() {\r\n        AudioManager.Singleton.play('MyverificationPwdView', \"button\");\r\n        if (this.inputPwd.length != 6) {\r\n            CommonCtr.instance.ShowTipLabel(\"密碼格式不正確\");\r\n            return;\r\n        }\r\n        // let contro = this.typeController.selectedIndex;\r\n        // if (contro == 1) {\r\n        //     LobbyViewCtr.instance.cs_changePassword_appbk('', this.inputPwd); //設置\r\n        // } else { //驗證支付密碼\r\n        LobbyViewCtr.instance.cs_enterbank_bk(this.inputPwd); //验证支付密码\r\n        // }\r\n    }\r\n\r\n    /**设置支付密码成功 */\r\n    public setPwdSucceed() {\r\n        this.typeController.selectedIndex = 0;\r\n        AppConst.mPlayerModel[\"UserPassword\"] = this.inputPwd;\r\n        this.clean();\r\n        this.ui_inputLabel.requestFocus();\r\n    }\r\n    /**验证支付密码成功 */\r\n    public verificationPwdSucceed() {\r\n        this.Hide();\r\n        LobbyViewCtr.instance.view.showTransferView();\r\n    }\r\n\r\n\r\n    public setFocus() {\r\n        this.ui_inputLabel.requestFocus();\r\n    }\r\n    public changedText(event) {\r\n        let text = this.ui_inputLabel.text;\r\n        this.inputPwd = text;\r\n        for (let i = 0; i < 6; i++) {\r\n            if (i > text.length) {\r\n                this[\"ui_pwd\" + i].text = '';\r\n            } else {\r\n                this[\"ui_pwd\" + i].text = text[i];\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    public Show() {\r\n        // if (!LobbyViewCtr.instance.model.isSetPayPassword) {\r\n        //     this.typeController.selectedIndex = 1;\r\n        // } else {\r\n        this.typeController.selectedIndex = 0;\r\n        // }\r\n        this.clean();\r\n        super.Show();\r\n    }\r\n\r\n    public clean() {\r\n        this.inputPwd = '';\r\n        this.ui_inputLabel.text = '';\r\n        for (let i = 0; i < 6; i++) {\r\n            this[\"ui_pwd\" + i].text = '';\r\n        }\r\n    }\r\n\r\n    public toTopup() {\r\n        this.Hide();\r\n        LobbyViewCtr.instance.view.showTopup();\r\n    }\r\n}"]}