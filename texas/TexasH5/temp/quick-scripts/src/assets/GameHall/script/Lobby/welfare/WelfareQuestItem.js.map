{"version":3,"sources":["assets\\GameHall\\script\\Lobby\\welfare\\WelfareQuestItem.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { AudioManager } from \"../../../../Script/BaseFrame/AudioManager\";\r\nimport { UIUtil } from \"../../../../Script/Common/UIUtil\";\r\nimport { tasklist } from \"../LobbyNetData\";\r\nimport LobbyViewCtr from \"../LobbyViewCtr\";\r\n\r\n\r\nexport default class WelfareQuestItem extends fgui.GButton {\r\n    /**完成奖励的金额 */\r\n    private gold: fgui.GTextField;\r\n    /**任务的标题 */\r\n    private rwTitle: fgui.GTextField;\r\n    /**任务的详情 */\r\n    private desc: fgui.GTextField;\r\n    /**领取 */\r\n    private btn_Collect: fgui.GButton;\r\n    /**去完成 */\r\n    private btn_complete: fgui.GButton;\r\n    private typeController: fgui.Controller;\r\n\r\n    private imageLoader: fgui.GLoader;\r\n    /**任务编号 */\r\n    public taskid: number;\r\n    public tname: string;\r\n\r\n    protected onConstruct() {\r\n        this.gold = this.getChild(\"gold\").asTextField;\r\n        this.rwTitle = this.getChild(\"title\").asTextField;\r\n        this.desc = this.getChild(\"desc\").asTextField;\r\n        this.btn_Collect = this.getChild(\"btn_Collect\").asButton;\r\n        this.btn_complete = this.getChild(\"btn_complete\").asButton;\r\n        this.btn_Collect.onClick(this.collect, this);\r\n        this.btn_complete.onClick(this.goComplete, this);\r\n        this.typeController = this.getController(\"type\");\r\n        this.imageLoader = this.getChild(\"n0\").asLoader;\r\n\r\n        this.gold._label.cacheMode = cc.Label.CacheMode.CHAR;\r\n        this.rwTitle._label.cacheMode = cc.Label.CacheMode.CHAR;\r\n        this.desc._label.cacheMode = cc.Label.CacheMode.CHAR;\r\n        this.btn_Collect.getTextField()._label.cacheMode = cc.Label.CacheMode.CHAR;\r\n        this.btn_complete.getTextField()._label.cacheMode = cc.Label.CacheMode.CHAR;\r\n\r\n    }\r\n\r\n    /**领取 */\r\n    public collect(event: fgui.Event) {\r\n        event.bubbles = false;\r\n        AudioManager.Singleton.play('WelfareQuestItem', \"button\");\r\n        LobbyViewCtr.instance.cs_award(this.taskid);\r\n    }\r\n    /**去完成 */\r\n    public goComplete(event: fgui.Event) {\r\n        event.bubbles = false;\r\n        AudioManager.Singleton.play('WelfareQuestItem', \"button\");\r\n        let view = LobbyViewCtr.instance.view;\r\n        view.welfareView && view.welfareView.Hide();\r\n        if (this.tname.indexOf(\"设置\") != -1 || this.tname.indexOf(\"更换\") != -1) {\r\n            view.showMyinfoView(); //设置\r\n        } else if (this.tname.indexOf(\"充值\") != -1) {\r\n            view.showTopup(); //设置\r\n        } else if (this.tname.indexOf(\"德州扑克\") != -1) {\r\n            view.barController.selectedIndex = 3;\r\n        } else {\r\n            view.barController.selectedIndex = 5;\r\n            view.entertainmentView.Show();\r\n        }\r\n    }\r\n\r\n    /**设置数据 */\r\n    public setData(data: tasklist) {\r\n        this.taskid = data.taskid;\r\n        this.rwTitle.text = data.name; //任务名字\r\n        this.tname = data.name;\r\n        if (data.name.indexOf(\"签到\") == -1) {\r\n            this.desc.text = `${data.remark}(${data.current}/${data.total})`;  //任务描述\r\n        } else {\r\n            this.desc.text = `${data.remark}`;  //任务描述\r\n        }\r\n        if (data.pic) {\r\n            UIUtil.loadShopImage(this.imageLoader, data.pic);\r\n        }\r\n\r\n        if (data.iscomplate) {\r\n            if (data.isaward) {\r\n                this.typeController.setSelectedIndex(2);\r\n            } else {\r\n                this.typeController.setSelectedIndex(1);\r\n            }\r\n        } else {\r\n            this.typeController.setSelectedIndex(0);\r\n        }\r\n        for (let i = 0; i < data.prizes.length; i++) {\r\n            // if (data.prizes[i].type == 1) {\r\n            //     this.gold.text = data.prizes[0].num + '';\r\n            // } else if (data.prizes[i].type == 2) {\r\n            //     this.gold.text = data.prizes[0].num * 1000 + '';\r\n            // } else if (data.prizes[i].type == 3) {\r\n            //     this.gold.text = data.prizes[0].num * 500 + '';\r\n            // } else if (data.prizes[i].type == 4) {\r\n            //     this.gold.text = data.prizes[0].num * 400 + '';\r\n            // } else if (data.prizes[i].type == 5) {\r\n            //     this.gold.text = data.prizes[0].num * 300 + '';\r\n            // } else if (data.prizes[i].type == 6) {\r\n            //     this.gold.text = data.prizes[0].num * 200 + '';\r\n            // } else {\r\n            this.gold.text = data.prizes[0].name + '';\r\n            //}\r\n        }\r\n    }\r\n}"]}