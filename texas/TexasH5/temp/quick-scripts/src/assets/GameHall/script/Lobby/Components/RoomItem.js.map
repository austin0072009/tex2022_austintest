{"version":3,"sources":["assets\\GameHall\\script\\Lobby\\Components\\RoomItem.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["\r\n/**\r\n * @description 进入游戏的列表item\r\n */\r\nexport default class RoomItem extends fgui.GButton {\r\n    public constructor() {\r\n        super();\r\n    }\r\n    /**游戏名字 */\r\n    private gameName: fgui.GTextField;\r\n    /**颜色控制器 */\r\n    private colorController: fgui.Controller;\r\n    /**时间 */\r\n    private timeText: fgui.GTextField;\r\n    /**人数 */\r\n    private playNum: fgui.GTextField;\r\n    /**底注 */\r\n    private bet: fgui.GTextField;\r\n    /**准入金币 */\r\n    private limitGold: fgui.GTextField;\r\n    /**桌子id */\r\n    private tableId: fgui.GTextField;\r\n    /**桌子状态 */\r\n    private status: fgui.GTextField;\r\n    /**好友房 */\r\n    private friendGroup: fgui.GGroup;\r\n\r\n    public gid: number;\r\n    public tid: number;\r\n    public lvid: number;\r\n    private typeController: fgui.Controller;\r\n    protected onConstruct(): void {\r\n        this.gameName = this.getChild(\"name\").asTextField;\r\n        this.colorController = this.getController(\"id\");\r\n        this.timeText = this.getChild(\"time\").asTextField;\r\n        this.playNum = this.getChild(\"play\").asTextField;\r\n        this.bet = this.getChild(\"bet\").asTextField;\r\n        this.limitGold = this.getChild(\"limit\").asTextField;\r\n        this.tableId = this.getChild(\"table\").asTextField;\r\n        this.status = this.getChild(\"status\").asTextField;\r\n        this.friendGroup = this.getChild(\"friendGroup\").asGroup;\r\n        this.typeController = this.getController(\"type\");\r\n\r\n        this.tableId._label.cacheMode = cc.Label.CacheMode.CHAR;\r\n        this.gameName._label.cacheMode = cc.Label.CacheMode.CHAR;\r\n        this.playNum._label.cacheMode = cc.Label.CacheMode.CHAR;\r\n        this.limitGold._label.cacheMode = cc.Label.CacheMode.CHAR;\r\n        this.timeText._label.cacheMode = cc.Label.CacheMode.CHAR;\r\n        this.getChild(\"n8\").asTextField._label.cacheMode = cc.Label.CacheMode.CHAR;\r\n    }\r\n\r\n    /**设置控制器 */\r\n    public setColor(color: number) {\r\n        this.colorController.setSelectedIndex(color);\r\n    }\r\n\r\n\r\n\r\n    /**设置数据 */\r\n    public setData(data: {\r\n        name: string, tableId: string, time: number, playNum: number,\r\n        limit: number, maxPlayNum: number, brate: number, preG: number, gid: number, tid: number, lvid: number, t: number,\r\n        IsSettle: boolean, cgold: number, ispas: number\r\n    }) {\r\n        this.gameName.text = data.name;\r\n        this.tableId.text = data.tableId;\r\n        this.timeText.text = this.ChangeHourMinutestr(Math.round(data.time / 60));\r\n        this.playNum.text = `${data.playNum}/${data.maxPlayNum}`;   //9\r\n        this.limitGold.text = this.numToCountingNnit(data.brate * 2 * 100);\r\n        this.bet.text = `${data.brate}/${data.brate * 2}/${data.brate * 4}(${data.preG})`;\r\n        this.gid = data.gid;\r\n        this.tid = data.tid;\r\n        this.lvid = data.lvid;\r\n        if (data.IsSettle) {\r\n            this.status.text = \"已结算\";\r\n        } else if (data.cgold > 0) {\r\n            this.status.text = \"参与中\";\r\n        } else {\r\n            this.status.text = \"\";\r\n        }\r\n        console.log(\"data.ispas == \", data.ispas);\r\n        this.friendGroup.visible = data.ispas == 1;\r\n        if (data.brate < 1) {\r\n            this.setColor(0);\r\n        } else if (data.brate == 1 || data.brate == 2 || data.brate == 5) {\r\n            this.setColor(1);\r\n        } else if (data.brate == 10 || data.brate == 25 || data.brate == 50) {\r\n            this.setColor(2);\r\n        } else if (data.brate == 100 || data.brate == 200 || data.brate == 500) {\r\n            this.setColor(3);\r\n        }\r\n        if (data.t == 20) {//aof\r\n            this.typeController.setSelectedIndex(1);\r\n        } else if (data.t == 10) { //短牌\r\n            this.typeController.setSelectedIndex(2);\r\n        } else {\r\n            this.typeController.setSelectedIndex(0);\r\n        }\r\n    }\r\n\r\n    public ChangeHourMinutestr(str: number) {\r\n        let timeStr = (Math.floor(str / 60)).toString();\r\n        let mtimeStr = (str % 60).toString();\r\n        // return (timeStr.length < 2 ? \"0\" + timeStr : timeStr) + \"h\" + (mtimeStr.length < 2 ? \"0\" + mtimeStr : mtimeStr)+\"min\";\r\n        return (timeStr) + \"h\" + (mtimeStr) + \"min\";\r\n\r\n    }\r\n\r\n    public numToCountingNnit(num: number) {\r\n        if (num >= 1000) {\r\n            num /= 1000;\r\n            return num + \"k\";\r\n        }\r\n        return num + '';\r\n    }\r\n\r\n}"]}