{"version":3,"sources":["assets\\GameHall\\script\\Login\\LoginViewCtr.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["﻿import { CommonCtr } from \"../../../Script/BaseFrame/CommonCtr\";\nimport { PlayerInfoSD, RoomInfoSD } from \"../../../Script/BaseFrame/cs_base\";\nimport { WebSocketManager } from \"../../../Script/BaseFrame/WebSocketManager\";\nimport { LocalStorage } from \"../../../Script/Common/LocalStorage\";\nimport { AppConst } from \"../../../Script/modules/@slotsmaster/ui-common/lib/AppConst\";\nimport { BaseFrameNative } from \"../../../Script/BaseFrameNative\";\nimport { cs_device, sc_device, cs_loginac, sc_loginac, cs_create1005, sc_create1005, cs_login, sc_login } from \"./LoginNetDataStruct\";\nimport LoginView from \"./LoginView\";\nimport GameUpdateMgr from \"../GameUpdateMgr\";\n\n\n\nexport class LoginViewCtr {\n\n    public view: LoginView;\n    private static _viewCtr: LoginViewCtr;\n\n    private _model: LoginModel;\n    static get instance(): LoginViewCtr {\n        if (this._viewCtr == null) {\n            this._viewCtr = new LoginViewCtr();\n            //初始注册这个Ctrl里面的服务器推送方法 \n            this._viewCtr.RegistNotify();\n        }\n        return this._viewCtr;\n    }\n\n\n    public get Model(): LoginModel {\n        if (this._model == null) {\n            this._model = new LoginModel();\n            this._model.Init();\n        }\n        return this._model;\n    }\n\n    public RegistNotify() {\n\n        // WebSocketManager.getInstance.RegistNotify(\"sc_gambleover_bf_n\", this.sc_gambleover_bf_n.bind(this));  \n        // WebSocketManager.getInstance.RegistNotify(\"sc_chat_n\", this.sc_chat_n.bind(this)); \n    }\n\n    /**判断此View是否已经释放  */\n    public get IsDestory(): Boolean {\n        if (this.view == null || this.view._isDestory) return true;\n        return false;\n    }\n\n    public cs_device(openid: string, unionid: string): void {\n        let pkg: cs_device = new cs_device();\n        pkg.fn = \"cs_device\";\n        // GameSetting.Instance.OpenID = openid;\n        // GameSetting.Instance.UnionID = unionid;\n        // _data.ClientAppVersion = GameSetting.Instance.ClientAppVersion;\n        // _data.DeviceID = GameSetting.Instance.DeviceID;\n        // _data.GameID = GameSetting.Instance.GameID;\n        // _data.MobileType = GameSetting.Instance.MobileType;\n        // _data.RetailID = GameSetting.Instance.RetailID;\n        // _data.ScreenX = GameSetting.Instance.ScreenX;\n        // _data.ScreenY = GameSetting.Instance.ScreenY;\n        // _data.ServerID = GameSetting.Instance.ServerID; \n        pkg._openid = openid;\n        pkg._unionid = unionid;\n        WebSocketManager.getInstance.SendJSON(pkg, this.sc_device.bind(this));\n    }\n\n    public sc_device(data: sc_device): void {\n        if (this.view == null || this.view._isDestory) return;\n        // CommonCtr.instance.ShowLoad_Circle(false); \n        if (data == null) return;\n        this.Model.mPid = data.passportid;\n        this.Model.mPwd = data.password;\n        this.cs_loginac(this.Model.mPid, this.Model.mPwd);\n    }\n\n    public cs_loginac(mPid: string, mPwd: string): void {\n        let MachineType: number = 2;\n        let DeviceID: string = \"\";// ToolsEx.GetMachineCode(ref MachineType);\n        let MobileType: string = \"\";// MachineType.ToString();\n        let pwd: string = mPwd;// new DESAlgorithmNew().EncodePwd(mPwd, GameSetting.ClientPasswordKey);\n\n        let pkg: cs_loginac = new cs_loginac();\n        pkg.fn = \"cs_loginac\";\n        pkg.DeviceID = DeviceID;\n        pkg.PassportId = mPid;\n        pkg.Password = pwd;\n        pkg.RetailID = \"0019\";\n        if (this.Model.mWeChatinfo != null) pkg.retailUser = this.Model.mWeChatinfo.openid;\n        pkg.ScreenX = 1920;// cc.screen. Screen.width;\n        pkg.ScreenY = 1080; //Screen.height;\n        pkg.ServerID = 1;\n        pkg.UserType = 1;\n        // _data.IP = CommonCtr.instance.Model._curIP;\n        // GameSetting.Instance.Pid = mPid;\n        // GameSetting.Instance.Password = mPwd;  \n        WebSocketManager.getInstance.SendJSON(pkg, this.sc_loginac.bind(this));\n    }\n\n    public sc_loginac(data: sc_loginac): void {\n        if (this.view == null || this.view._isDestory) return;\n        if (data == null) return;\n        if (data.result == 1) {\n            // GameSetting.SetLoginInfo(AppConfigList.Current.sdk_type == 0);\n            this.Model.phone = data.phone;\n            if (data.GuideID == 1005) {\n                // this.view.openCreateRole(data.aCode);\n            }\n            else {\n                // this. view._canLoginClick = true;\n                this.cs_login();\n            }\n        }\n        else if (data.result == -1) {\n            CommonCtr.instance.view.ShowTipLabel(\"用戶名密碼錯誤！\");\n        }\n        else if (data.result == -99) {\n            CommonCtr.instance.view.ShowTipLabel(\"賬號被凍結請聯繫客服！\");\n        }\n        else if (data.result == -10) {\n            CommonCtr.instance.view.ShowTipLabel(\"賬號角色數據異常請聯繫客服！\");\n        }\n    }\n\n    public cs_create1005(pid: string, ActiveCode: string, roleName: string, headid: string): void {\n        let pkg: cs_create1005 = new cs_create1005();\n        pkg.fn = \"cs_create1005\";\n        // _createdata.ClientAppVersion = GameSetting.Instance.ClientAppVersion;\n        // _createdata.GameID = GameSetting.Instance.GameID;\n        pkg.Pid = pid;\n        // _createdata.MobileType = GameSetting.Instance.MobileType;\n        // _createdata.RetailID = GameSetting.Instance.RetailID;\n        //_createdata.ActiveCode = ActiveCode;\n        // _createdata.ServerID = GameSetting.Instance.ServerID + \"\";\n        pkg.NickName = roleName;\n        pkg.HeadID = headid;\n        pkg._Sex = 1;\n        // _createdata.IP = CommonCtr.instance.Model._curIP; \n\n        WebSocketManager.getInstance.SendJSON(pkg, this.sc_create1005.bind(this));\n    }\n\n    public sc_create1005(_data: sc_create1005): void {\n        if (this.view == null || this.view._isDestory) return;\n        // CommonCtr.instance.ShowLoad_Circle(false);\n        // this. view._canLoginClick = true;\n        if (_data.result == 1) {\n            LoginViewCtr.instance.cs_login();\n        } else if (_data.result == -1) {\n            CommonCtr.instance.ShowTipLabelMove(\"邀请码输入错误\", true);//邀请码输入错误\n        } else if (_data.result == -5) {\n            CommonCtr.instance.ShowTipLabelMove(\"不能同名\", true);//不能同名\n            this.view.ui_nicknamecf.visible = true;\n        } else {\n            CommonCtr.instance.ShowTipLabelMove(\"进入游戏失败,请联系客服 \", true);//进入游戏失败,请联系客服 \n        }\n\n    }\n\n\n    public cs_login(): void {\n        let pkg: cs_login = new cs_login();\n        pkg.fn = \"cs_login\";\n        let MachineType: number = 2;\n        pkg.deviceType = MachineType;\n        pkg.accountId = this.Model.accountId;\n        // if (Common_SecCtr.instance.Model.loc.lat == 0 && Common_SecCtr.instance.Model.loc.lng == 0 && Input.location.isEnabledByUser)\n        // {\n        //     CommonCtr.instance.ShowLoad_Circle(true);\n        //     LocationHelp.GetLocation((loc) =>\n        //     {\n        //         CommonCtr.instance.ShowLoad_Circle(false);\n        //         Common_SecCtr.instance.Model.loc = loc;\n        //         login.lat = Common_SecCtr.instance.Model.loc.lat;\n        //         login.lng = Common_SecCtr.instance.Model.loc.lng;\n        //         login.fn = \"cs_login\";\n        //         MySocket.SendData(login, () => { return true; });\n        //     });//获取经纬度 \n        // }\n        // else\n        {\n            // login.lat = Common_SecCtr.instance.Model.loc.lat;\n            // login.lng = Common_SecCtr.instance.Model.loc.lng; \n\n            // WebSocketManager.getInstance.SendJSON(pkg, this.sc_login.bind(this));\n            WebSocketManager.getInstance.SendJSONTimeOut(pkg, this.sc_login.bind(this));\n        }\n    }\n\n\n\n    public LogintoFishLevel(pid: string, pwd: string) {\n        // WebSocketManager.getInstance.GateServer(AppConst.serverId);\n        // WebSocketManager.getInstance.GatePort(10002);\n        WebSocketManager.getInstance.CSLoginCallback = this.sc_login.bind(this);\n        WebSocketManager.getInstance.LoginByPIDPWD(pid, pwd);\n    }\n\n    /**login succ */\n    private sc_login(data: sc_login) {\n        this.view.loginSuccess();\n        if (data == null) {\n            return;\n        }\n        if (data.result == 1) {\n            AppConst.Account = data.user.userid;\n            AppConst.gameId = data.gameid;\n            AppConst.cidx = data.cidx;\n            AppConst.mPlayerModel = data.user;\n            LocalStorage.getInstance().setItem(\"login_pid\", this.Model.mPid);\n            LocalStorage.getInstance().setItem(\"login_pwd\", this.Model.mPwd);\n            this.Model.mPlayerModel = data.user;\n            AppConst.currentGameId = data.gameid;\n            this.Model.userid = data.user.userid;\n            this.Model.gameid = data.gameid;\n            this.Model.cidx = data.cidx;\n            AppConst.mPlayerModel[\"UserPassword\"] = data.UserPassword;\n            AppConst.mPlayerModel[\"headIcos\"] = data.headIcos;\n            AppConst.mPlayerModel[\"headFrame\"] = data.headFrame;\n            if (this.Model.mPlayerModel.state > 0) {\n                // CommonCtr.instance.ShowTipLabel(\"断线重连中...\");\n                console.log(\"需要进入断线重连处理\" + data.gameid + \".\" + data.user.tableid + \" roomid：\" + data.roomid);\n                // 这里只存储数据 重连放到大厅处理\n                AppConst.roomId = \"\" + data.user.tableid;//借用字段\n                AppConst.currentGameId = data.gameid;\n                AppConst.currentlevelid = data.roomid;\n            }\n            this.view.cleanEvent();//跳转大厅 \n        } else if (data.result == -1) {\n            CommonCtr.instance.ShowTipLabel(\"邀請碼不存在！\");//邀请码不存在\n        } else if (data.result == -99) {\n            CommonCtr.instance.ShowTipLabel(\"賬號被凍結請聯繫客服！\");\n            // 停止心跳\n            WebSocketManager.getInstance.webSocket.clearTimer();\n            WebSocketManager.getInstance.DisConnect();\n        } else if (data.result == -1005) {\n            CommonCtr.instance.ShowTipLabel(\"請輸入暱稱創建角色！\");\n            // 暂时先随机性别头像和昵称，让新用户可以进游戏\n            // let nickName: string = \"游客-\" + (Math.floor(Math.random() * 100000) + 100000);\n            // let sex: string = \"\" + (Math.random() * 10) % 2 + 1;\n            //  let headid: string = \"ui://Lobby/head\" + Math.floor(Math.random() * 15);\n            // this.cs_create1005(LoginViewCtr.instance.Model.userid + \"\", \"1\", nickName, headid);\n            this.view.showRolePanel();\n        } else {\n            ////CommonCtr.instance.ShowTip(StrFixedServerResult.GetString(data.result));\n        }\n    }\n\n}\n\n\n\nexport class LoginModel {\n\n    public ExitBattle: boolean = false;\n    public FirstClass: boolean = true;\n    public accountId: string;\n    public mPid: string;\n    public mName: string;\n    public mPwd: string;\n\n    public mIp: string;\n    public mMachineCode: string;\n    public mMachineType: boolean;\n    /// <summary>\n    /// 断线重连通用\n    /// </summary>\n    public userid: number;\n    public gameid: number;\n    //当前的club idx\n    public cidx: number;\n    public mPlayerModel: PlayerInfoSD = null;\n    public gamelist: RoomInfoSD;\n    // public  authsdlist:authSD[];\n    public isOpenRoom: boolean;\n    public isRollPan: boolean;\n    public mWeChatinfo: WeChatInfo;\n    public loginType: number = 1;//1 :微信登录  2:账号登录\n    public phone: string;//绑定的手机号\n    // 代理\n    public MyAgent: string;\n    public MyAgentID: number;\n    /// <summary>\n    /// 所有游戏奖池\n    /// </summary>\n    public alljackpot: number;\n    public _openExperience: boolean = false;\n    public Init() {\n        this._openExperience = false;\n        this.isOpenRoom = false;\n        if (CC_JSB && BaseFrameNative.isNeedUpdate) {  //\n            this.checkUpdate();\n        }\n    }\n    /**游戏配置 */\n    public config = [\n        { gameId: 254, gameIcon: \"zues\", name: \"zues\", update: false }, //宙斯\n        { gameId: 92, gameIcon: \"jxlw\", name: \"nineline\", update: false }, //九线\n        { gameId: 91, gameIcon: \"sgml\", name: \"slotfruit\", update: false }, //水果玛丽\n        { gameId: 258, gameIcon: \"csgn\", name: \"slotrq\", update: false }, //财神\n        { gameId: 4096, gameIcon: \"huoniu\", name: \"WildHerd\", update: false }, //火牛\n        { gameId: 21, gameIcon: \"iconlh\", name: \"slotdt\", update: false },//龙虎\n        { gameId: 54, gameIcon: \"hznw\", name: \"slotFireQueen\", update: false }, //火女\n        { gameId: 201, gameIcon: \"iconrz\", name: \"ninjaVSsamurai\", update: false }, //忍者\n\n        { gameId: 104, gameIcon: \"icondeniuzai\", name: \"TexasCowboy\", update: false }, //牛仔   百人场\n\n        { gameId: 1000, gameIcon: \"iconfish\", name: \"fish\", update: false },//捕鱼\n    ];\n\n    /**游戏是否有更新 */\n    public checkUpdate(index: number = 0) {\n        let config = this.config;\n        if (index > config.length - 1) {\n            // console.log(\"GameCommon.gameVersion = \", JSON.stringify(GameCommon.gameVersion));\n            return;\n        }\n        // 先判断serverlist配置版本号 如果有需要更新再继续下一步判断\n        let keyName: string = config[index].name + \"_version\";\n        let version = cc.sys.localStorage.getItem(keyName);\n        let isNeedUpdate: boolean = true;\n        if (version === undefined || version === null) {\n            isNeedUpdate = true;\n        } else {\n            isNeedUpdate = this.versionCompareHandle(version, this.getGameVersion(config[index].gameId));\n        }\n        if (isNeedUpdate) {\n            GameUpdateMgr.instance.checkUpdate(config[index].name, null, CommonCtr.instance.view, (isUpdate) => {\n                config[index].update = isUpdate;\n                index += 1;\n                this.checkUpdate(index);\n            });\n        } else {\n            config[index].update = false;\n            index += 1;\n            this.checkUpdate(index);\n        }\n\n\n    }\n\n    public setVersionCallBack(name: string, version: string) {\n        console.log(\"name : \" + name, \"version : \" + version);\n        // GameCommon.gameVersion[name] = version;\n    }\n\n    // 获取游戏版本信息\n    public getGameVersion(gameid: number): string {\n        let list = BaseFrameNative.serverList.gamereslist;\n        for (let index = 0; index < list.length; index++) {\n            let data = list[index];\n            if (data.id == gameid) {\n                return data.version;\n            }\n        }\n        return \"1.0.0\";\n    }\n\n    // 版本检查 比较方法versionA旧  versionB新\n    public versionCompareHandle(versionA: string, versionB: string): boolean {\n        if (versionA == null || versionB == null) return false;\n        let vA = versionA.split(\".\");\n        let vB = versionB.split(\".\");\n        for (let i = 0; i < vA.length; ++i) {\n            let a = parseInt(vA[i]);\n            let b = parseInt(vB[i]);\n            if (a === b) {\n                continue;\n            } else {\n                return b - a > 0;\n            }\n        }\n        if (vB.length > vA.length) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n}\n\nexport class WeChatInfo {\n    public country: string;//国家\n    public province: string;//省\n    public headimgurl: string;//头像\n    public unionid: string;//ID\n    public openid: string;//ID\n    public nickname: string;//微信名称\n    public city: string;//城市\n    public sex: number;//微信年龄\n    public language: string;//语言\n    public privilege: string[];//特权\n}"]}