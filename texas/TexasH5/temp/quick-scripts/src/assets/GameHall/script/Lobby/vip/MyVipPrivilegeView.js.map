{"version":3,"sources":["assets\\GameHall\\script\\Lobby\\vip\\MyVipPrivilegeView.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { AudioManager } from \"../../../../Script/BaseFrame/AudioManager\";\r\nimport ViewBase from \"../../../../Script/BaseFrame/ViewBase\";\r\nimport { UIUtil } from \"../../../../Script/Common/UIUtil\";\r\nimport { AppConst } from \"../../../../Script/modules/@slotsmaster/ui-common/lib/AppConst\";\r\nimport NativeMethod from \"../../NativeMethod\";\r\nimport LobbyViewCtr from \"../LobbyViewCtr\";\r\n\r\n/**\r\n * @description vip 特權\r\n * \r\n */\r\nexport default class MyVipPrivilegeView extends ViewBase {\r\n    protected get packageResourceName(): string {\r\n        return \"gameHall\";\r\n    }\r\n    protected get packageName(): string {\r\n        return \"res/Lobby\";\r\n    }\r\n    protected get componentName(): string {\r\n        return \"vipwin\";\r\n    }\r\n\r\n    private ui_btn_viptqBreak: fgui.GButton = null;\r\n    private ui_btn_service1: fgui.GButton = null;\r\n\r\n    private ui_btn_vipshop: fgui.GButton = null;\r\n    private ui_vipLevel: fgui.GTextField = null;\r\n    private ui_userName: fgui.GTextField = null;\r\n    /**经验 */\r\n    private ui_Experience: fgui.GTextField = null;\r\n    /**积分 */\r\n    private ui_Integral: fgui.GTextField = null;\r\n    /**vip詳情 */\r\n    private ui_btn_vipderails: fgui.GButton = null;\r\n    /**頭像 */\r\n    private headLoader: fgui.GLoader;\r\n\r\n    private levelController: fgui.Controller;\r\n    /**头像框 */\r\n    private ui_headframe: fgui.GLoader = null;\r\n\r\n    /**晋级礼金 */\r\n    public ui_btn_jiniji: fgui.GButton = null;\r\n    /**每月礼金 */\r\n    public ui_btn_mylj: fgui.GButton = null;\r\n    /**每日免费提现次数 */\r\n    private ui_freeTxGold: fgui.GTextField = null;\r\n    /**单笔提现金额 */\r\n    private ui_oneTxGold: fgui.GTextField = null;\r\n    /**晋级礼金 */\r\n    private ui_PromotionGold: fgui.GTextField = null;\r\n    /**每月礼金 */\r\n    private ui_monthlyGold: fgui.GTextField = null;\r\n    /**vip折扣 */\r\n    private ui_discount: fgui.GTextField = null;\r\n\r\n\r\n    private ui_viptq: fgui.GLoader = null;\r\n    private ui_dqvipzx: fgui.GLoader = null;\r\n    createChildComponents() {\r\n        super.createChildComponents();\r\n        this.fguiComponent.visible = false;\r\n        this.ui_btn_viptqBreak.onClick(this.Hide, this);\r\n        this.ui_btn_service1.onClick(() => {\r\n            UIUtil.kefuFunction(LobbyViewCtr.instance.view.openWebsite.bind(LobbyViewCtr.instance.view));\r\n        })\r\n        this.headLoader = this.getChild(\"head.n0\").asLoader;\r\n        this.levelController = this.fguiComponent.getController(\"level\");\r\n\r\n        this.ui_btn_vipshop.onClick(this.showShoppingView, this);\r\n        this.ui_btn_vipderails.onClick(this.showVipderailsView, this);\r\n\r\n        this.ui_btn_jiniji.onClick(this.receiveJinji, this);\r\n        this.ui_btn_mylj.onClick(this.receiveMylj, this);\r\n\r\n        NativeMethod.setUrlByLanguage(this.ui_viptq);\r\n        NativeMethod.setUrlByLanguage(this.ui_dqvipzx);\r\n    }\r\n\r\n\r\n    OnLoadCompleted() {\r\n        this.Show();\r\n    }\r\n\r\n    public setData() {\r\n        let play = AppConst.mPlayerModel;\r\n        this.ui_userName.text = play._n;\r\n        UIUtil.loadImage(this.headLoader, play.wechat.wicon);\r\n        if (AppConst.mPlayerModel[\"headFrame\"]) {\r\n            UIUtil.loadImage(this.ui_headframe, AppConst.mPlayerModel[\"headFrame\"]);\r\n        }\r\n    }\r\n\r\n    /**获取的 vip 信息 */\r\n    public handleData() {\r\n        let model = LobbyViewCtr.instance.Model;\r\n        LobbyViewCtr.instance.view.GetLev(model.vipInfo.currExp);\r\n        let lv = model.vipLevel;\r\n        this.ui_vipLevel.setVar(\"level\", lv + '').flushVars();\r\n        this.levelController.setSelectedIndex(lv);\r\n\r\n        this.ui_Experience.setVar(\"exp\", model.vipInfo.currExp + '').flushVars();\r\n        this.ui_Integral.setVar(\"inter\", model.vipInfo.currScore + '').flushVars();\r\n        if (model.vipInfo.UpAwardStatus == 0) {\r\n            this.ui_btn_jiniji.getController(\"color\").setSelectedIndex(1);\r\n            this.ui_btn_jiniji.enabled = true;\r\n        } else {\r\n            this.ui_btn_jiniji.getController(\"color\").setSelectedIndex(0);\r\n            this.ui_btn_jiniji.enabled = false;\r\n        }\r\n        if (model.vipInfo.MonthAwardStatus == 0) {\r\n            this.ui_btn_mylj.getController(\"color\").setSelectedIndex(1);\r\n            this.ui_btn_mylj.enabled = true;\r\n        } else {\r\n            this.ui_btn_mylj.getController(\"color\").setSelectedIndex(0);\r\n            this.ui_btn_mylj.enabled = false;\r\n        }\r\n    }\r\n\r\n    public setbtnjiniji() {\r\n        this.ui_btn_jiniji.enabled = false;\r\n        this.ui_btn_jiniji.getController(\"color\").setSelectedIndex(0);\r\n    }\r\n    public setbtnmylj() {\r\n        this.ui_btn_mylj.enabled = false;\r\n        this.ui_btn_mylj.getController(\"color\").setSelectedIndex(0);\r\n    }\r\n\r\n    /**领取晋级 */\r\n    public receiveJinji() {\r\n        LobbyViewCtr.instance.cs_receiveupaward();\r\n    }\r\n    /**领取每月 */\r\n    public receiveMylj() {\r\n        LobbyViewCtr.instance.cs_receivemonthaward();\r\n    }\r\n\r\n    /**根據配置顯示 vip 數據 */\r\n    public handleDataByConfig() {\r\n        let vipConfig = LobbyViewCtr.instance.Model.vipConfig;\r\n        let lv = LobbyViewCtr.instance.Model.vipLevel;\r\n\r\n        this.ui_freeTxGold.text = vipConfig.FreeWithdrawTimes[lv] + '';\r\n        this.ui_oneTxGold.text = vipConfig.WithdrawLimit[lv] + '';\r\n        this.ui_PromotionGold.text = vipConfig.UpReward[lv] + '';\r\n        this.ui_monthlyGold.text = vipConfig.MonthReward[lv] + '';\r\n\r\n        if (vipConfig.Discount[lv] == 0) {\r\n            this.ui_discount.setVar(\"zk\", '无').flushVars();\r\n            this.ui_discount.setVar(\"z\", '').flushVars();\r\n        } else {\r\n            this.ui_discount.setVar(\"zk\", vipConfig.Discount[lv] + '').flushVars();\r\n            this.ui_discount.setVar(\"z\", '折').flushVars();\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    Hide() {\r\n        AudioManager.Singleton.play('MyVipPrivilegeView', \"button\");\r\n        super.Hide();\r\n    }\r\n\r\n    public showShoppingView() {\r\n        LobbyViewCtr.instance.view.showVipShoppingView();\r\n    }\r\n    public showVipderailsView() {\r\n        LobbyViewCtr.instance.view.showVipDerailsView();\r\n    }\r\n\r\n    public Show() {\r\n        super.Show();\r\n        this.setData();\r\n        this.handleData();\r\n        this.handleDataByConfig();\r\n    }\r\n}"]}