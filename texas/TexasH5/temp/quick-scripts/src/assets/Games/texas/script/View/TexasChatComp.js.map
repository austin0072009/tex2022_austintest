{"version":3,"sources":["assets\\Games\\texas\\script\\View\\TexasChatComp.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { CommonCtr } from \"../../../../Script/BaseFrame/CommonCtr\";\nimport ViewBase from \"../../../../Script/BaseFrame/ViewBase\";\nimport { PlayerPrefs } from \"../../../../Script/Common/UIUtil\";\nimport F_TexasViewCtr from \"../Contrl/F_TexasViewCtr\";\nimport { TexasLanguage } from \"../Model/TexasLanguage\";\n\n\nconst { ccclass, property } = cc._decorator;\n\nexport default class TexasChatComp extends ViewBase {\n\n    // public ui_ListChatEmoj:fgui.GList = null;\n    public ui_ListChatSound: fgui.GList = null;\n    // public ui_chatSoundCell:fgui.GButton = null;\n    // public ui_ListchatRecord:fgui.GList = null;\n    // public ui_chatRecordCell:fgui.GComponent = null;\n    public static languageList: string[];\n    public ui_btnClose_chat: fgui.GButton = null;\n    // public ui_ChatNum:fgui.GTextField = null;\n\n    // public ui_BtnSendChat:fgui.GButton = null;\n    // public ui_ChatInputField:fgui.GTextInput = null;\n    public ui_bg: fgui.GComponent = null;\n    // public ui_SwitchDanmu:fgui.GButton = null;\n    // public ui_recordToggle:fgui.GButton = null;\n    // public ui_emojToggle:fgui.GButton = null;\n    // public ui_danmuToggle:fgui.GButton = null;\n    // public switchImage:fgui.GLoader=null;\n\n    // public ui_danmuLabel1:fgui.GTextField = null;\n    // public ui_danmuLabel:fgui.GTextField = null;\n    // public ui_emojLabel1:fgui.GTextField = null;\n    // public ui_emojLabel:fgui.GTextField = null;\n    // public ui_recordLabel1:fgui.GTextField = null;\n    // public ui_recordLabel:fgui.GTextField = null;\n\n    private onLoadEnd = false;\n    public MyStart() {\n        this.mystart = true;\n        if (this.onLoadEnd) this.MyStartEx();\n\n    }\n\n    OnLoadCompleted() {\n        this.onLoadEnd = true;\n        if (this.mystart) this.MyStartEx();\n    }\n    MyStartEx() {\n        if (this.ui_ListChatSound == null) {\n            super.AutoSetGoProperty();\n            this.InitEvents();\n        }\n        this.InitLanguage();\n        this.Init();\n        this.Hide();\n    }\n\n    AutoSetGoProperty() { }\n\n    public InitLanguage() {\n        // this.ui_danmuLabel1.text = \"弹幕 2\";\n        // this.ui_danmuLabel.text = \"弹幕 2\";\n        // this.ui_emojLabel1.text = \"免费表情\"\n        // this.ui_emojLabel.text = \"免费表情\"\n        // this.ui_recordLabel1.text = \"弹幕记录\"\n        // this.ui_recordLabel.text = \"弹幕记录\"\n    }\n    public Init() {\n        TexasChatComp.languageList = [];\n        TexasChatComp.languageList.push(TexasLanguage.getLanguageById(1413));//少一些套路，多一些真诚！\n        TexasChatComp.languageList.push(TexasLanguage.getLanguageById(1414));//我不偷鸡，但绝对不要偷我鸡！\n        TexasChatComp.languageList.push(TexasLanguage.getLanguageById(1415));//快点吧，我等的花儿都谢了！\n        TexasChatComp.languageList.push(TexasLanguage.getLanguageById(1416));//软的怕硬的，硬的怕不要命的！\n        TexasChatComp.languageList.push(TexasLanguage.getLanguageById(1417));//自己讲的故事，含泪也要演完！\n        TexasChatComp.languageList.push(TexasLanguage.getLanguageById(1418));//一次次的弃牌，只是为了下一次的Allin！\n        TexasChatComp.languageList.push(TexasLanguage.getLanguageById(1419));//你的水平与你扔掉的AA的次数成正比！\n        TexasChatComp.languageList.push(TexasLanguage.getLanguageById(1420));//撑死胆大的，饿死胆小的！\n        TexasChatComp.languageList.push(TexasLanguage.getLanguageById(1421));//这一幕好像似曾相识！\n        TexasChatComp.languageList.push(TexasLanguage.getLanguageById(1422));//论成败人生豪迈，大不了从头再来！\n\n        // this.switchImage = this.ui_SwitchDanmu.getChild(\"Image\").asLoader;\n        // let danmu = PlayerPrefs.GetInt(\"key_Danmu\", 1);\n        // UIUtil.loadImage(this.switchImage, (danmu == 0 ? \"danmu_off\" : \"danmu\"),\"Texs\");\n        this.InitUIChatSound(TexasChatComp.languageList);\n        // this.InitUIChatEmoj();\n\n        // F_TexasViewCtr.instance.cs_chatlog();\n    }\n\n    Hide() {\n        this.fguiComponent.visible = false;\n        this.node.active = false;\n    }\n\n    public InitEvents() {\n        this.ui_btnClose_chat.clearClick();\n        this.ui_btnClose_chat.onClick(() => {\n            this.Hide();\n        });\n\n        // this.ui_BtnSendChat.onClick(() =>\n        // {\n        //     if (F_TexasViewCtr.instance.view._bftable.myUser.IsWatch())\n        //     {\n        //         CommonCtr.instance.ShowTipLabel(\"旁观状态下不能发送弹幕\");//旁观状态下不能发送弹幕\n        //         return;\n        //     }\n        //     if (F_TexasViewCtr.instance.view._bftable.myUser.IsWaitToTakeIn())\n        //     {\n        //         CommonCtr.instance.ShowTipLabel(\"占座状态下不能发送弹幕\");//占座状态下不能发送弹幕\n        //         return;\n        //     }\n        //     if (PlayerPrefs.GetInt(\"key_Danmu\", 1) == 0)\n        //     {\n        //         CommonCtr.instance.ShowTipLabel(\"弹幕已关闭,不可输入\");//弹幕已关闭,不可输入\n        //         return;\n        //     }\n        //     if (this.ui_ChatInputField.text == null || this.ui_ChatInputField.text.length <= 0)\n        //     {\n        //         CommonCtr.instance.ShowTipLabel(\"聊天内容不能为空！\");//聊天内容不能为空！\n        //         return;\n        //     }\n        //     let model = F_TexasViewCtr.instance.Model;\n        //     F_TexasViewCtr.instance.cs_chat(6, 0, this.ui_ChatInputField.text);\n        //     this.ui_ChatInputField.text = \"\";\n        //     this.Hide();\n        // });\n\n        // this.ui_SwitchDanmu.onClick(() => \n        // {\n        //     if(PlayerPrefs.GetInt(\"key_Danmu\",-1) == -1)\n        //     {\n        //         PlayerPrefs.SetInt(\"key_Danmu\", 0);\n        //         F_TexasViewCtr.instance.view.tipView.ShowTipLabel(\"弹幕已关闭\");//弹幕已关闭\n        //         UIUtil.loadImage(this.switchImage,\"danmu_off\",\"Texas\");\n        //     }\n        //     else\n        //     {\n        //         let danmu = PlayerPrefs.GetInt(\"key_Danmu\",0) == 0 ? 1 : 0;\n        //         PlayerPrefs.SetInt(\"key_Danmu\", danmu);\n        //         F_TexasViewCtr.instance.view.tipView.ShowTipLabel(danmu == 0 ? \"弹幕已关闭\" : \"弹幕已打开\");//弹幕已关闭 弹幕已打开\n        //         UIUtil.loadImage(this.switchImage, danmu == 0 ? \"danmu_off\" : \"danmu\",\"Texas\");\n        //     }\n        // });\n\n        // this.ui_recordToggle.onClick(()=>{\n        //     if(this.getToggle(this.ui_recordToggle) == false) F_TexasViewCtr.instance.cs_chatlog();\n        //     this.setToggle(this.ui_recordToggle,true);\n        //     this.setToggle(this.ui_emojToggle,false);\n        //     this.setToggle(this.ui_danmuToggle,false);\n        //     this.fguiComponent.getController(\"type\").setSelectedIndex(0);\n\n        // });\n        // this.ui_emojToggle.onClick(()=>{\n        //     this.setToggle(this.ui_recordToggle,false);\n        //     this.setToggle(this.ui_emojToggle,true);\n        //     this.setToggle(this.ui_danmuToggle,false);\n        //     this.fguiComponent.getController(\"type\").setSelectedIndex(1);\n        // });\n        // this.ui_danmuToggle.onClick(()=>{\n        //     this.setToggle(this.ui_recordToggle,false);\n        //     this.setToggle(this.ui_emojToggle,false);\n        //     this.setToggle(this.ui_danmuToggle,true);\n        //     this.fguiComponent.getController(\"type\").setSelectedIndex(2);\n        // });\n    }\n    private SelectPage(isChatEmoj: boolean) {\n        this.ShowChatSound(!isChatEmoj);\n        this.ShowChatEmoj(isChatEmoj);\n        //设置图片\n    }\n\n\n    public ShowChatSound(isShow: boolean) {\n        this.ui_ListChatSound.visible = isShow;\n    }\n\n    public ShowChatEmoj(isShow: boolean) {\n        // this.ui_ListChatEmoj.visible = isShow;\n    }\n\n    //打开界面  \n\n    public Show() {\n        super.Show();\n        // this.ui_emojToggle.visible = (!F_TexasViewCtr.instance.view._bftable.myUser.IsWatch() && !F_TexasViewCtr.instance.view._bftable.myUser.IsWaitToTakeIn());\n        // if (F_TexasViewCtr.instance.view._bftable.myUser.IsWatch() || F_TexasViewCtr.instance.view._bftable.myUser.IsWaitToTakeIn())\n        // {\n        //     if (this.getToggle(this.ui_emojToggle))\n        //     {\n        //         this.setToggle(this.ui_emojToggle, false);\n        //         // this.ui_emojToggle.onValueChanged.Invoke(false);\n        //         this.setToggle(this.ui_danmuToggle, false);\n        //         // this.ui_danmuToggle.onValueChanged.Invoke(true);\n        //     }\n        // }\n    }\n\n    private getToggle(button: fgui.GButton): boolean {\n        let index = button.getController(\"isOn\").selectedIndex;\n        return index == 0 ? false : true;\n    }\n\n    private setToggle(button: fgui.GButton, ison: boolean) {\n        button.getController(\"isOn\").setSelectedIndex(ison ? 1 : 0);\n    }\n\n    public InitUIChatSound(tList: string[]) {\n        if (tList == null || tList.length == 0) return;\n        this.ui_ListChatSound.removeChildrenToPool();\n        let go: fgui.GComponent = null;\n        for (var i = 0; i < tList.length; i++) {\n            go = this.ui_ListChatSound.addItemFromPool().asCom;\n            this.SetChatSoundCellInfo(go, tList[i], i);\n        }\n    }\n\n\n    public SetChatSoundCellInfo(chatSoundCell: fgui.GComponent, sayStr: string, index: number) {\n        let txtChat: fgui.GTextField = chatSoundCell.getChild(\"txtChat\").asTextField;\n        txtChat.text = (index + 1) + \".\" + sayStr;\n        chatSoundCell.onClick(() => {\n            if (F_TexasViewCtr.instance.view._bftable.myUser.IsWatch()) {\n                CommonCtr.instance.ShowTipLabel(TexasLanguage.getLanguageById(1602));//旁观状态下不能发送弹幕\n                return;\n            }\n            if (F_TexasViewCtr.instance.view._bftable.myUser.IsWaitToTakeIn()) {\n                CommonCtr.instance.ShowTipLabel(TexasLanguage.getLanguageById(2189));//占座状态下不能发送弹幕\n                return;\n            }\n            if (PlayerPrefs.GetInt(\"key_Danmu\", 1) == 0) {\n                CommonCtr.instance.ShowTipLabel(TexasLanguage.getLanguageById(1605));//弹幕已关闭\n                return;\n            }\n            if (F_TexasViewCtr.instance.Model.mPlayerModel.gold < 200) {\n                CommonCtr.instance.ShowTipLabel(TexasLanguage.getLanguageById(1601));//钻石不足\n                return;\n            }\n\n            F_TexasViewCtr.instance.cs_chat(6, 0, sayStr, 0);\n            // F_TexasViewCtr.instance.cs_chat(model.gameid, model.levelid, model.tableid, 6, sayStr);\n            this.Hide();\n            /* 方便测试\n            F_WhirlViewCtr.instance.view.HandleChat(testId,4,index.ToString());\n            testId++;\n            if (testId > 8)\n            {\n                testId = 1;\n            }\n            */\n        });\n    }\n\n    // public InitUIChatEmoj()\n    // {\n    //     let go:fgui.GComponent = null;\n\n    //     for (var i = 0; i < 20; i++)\n    //     {\n    //         go = this.ui_ListChatEmoj.addItemFromPool().asCom;\n    //         this.SeChatEmojCellInfo(go, i + 1);\n    //     }\n    // }\n\n    // public SeChatEmojCellInfo(chatEmojCell:fgui.GComponent, index:number)\n    // {\n    //     UIUtil.loadImage(chatEmojCell.getChild(\"imgEmoj\").asLoader, \"face\" + index, \"Texas\");\n\n    //     chatEmojCell.onClick(() =>\n    //     {\n    //         let model = F_TexasViewCtr.instance.Model;\n    //         F_TexasViewCtr.instance.cs_chat(2, 0, (index - 1).toString());\n    //         this.Hide();\n\n    //         /*方便测试\n    //         F_WhirlViewCtr.instance.view.HandleChat(testId, 2, index.ToString());\n    //         testId++;\n    //         if (testId > 8)\n    //         {\n    //             testId = 1;\n    //         }\n    //         */\n    //     });\n    // }\n\n    private Clear() {\n\n    }\n    // public showLog(data:sc_chatlog)\n    // {\n    //     this.ui_ListchatRecord.removeChildrenToPool();\n    //     if (data.data != null && data.data.length > 0)\n    //     {            \n    //         for (var i = 0; i < data.data.length; ++i)\n    //         {\n    //             var temp = data.data[i];\n    //             var go = this.ui_ListchatRecord.addItemFromPool().asCom;                \n    //             let uiText = go.getChild(\"Text\").asTextField;\n    //             let uiText2 = go.getChild(\"Text2\").asTextField;\n    //             if(temp.type == 1)\n    //             {\n    //                 uiText.text = `${temp.ptime} ${temp.username}:  `;\n    //                 uiText2.text = temp.content;\n    //             }\n    //             else\n    //             {\n    //                 uiText.text = `${temp.ptime} ${temp.username}:  `;//发送了一条语音\n    //                 uiText2.text = \"发送了一条语音\";\n    //             }\n    //             uiText.text = uiText.text.replace(\" \", \"\\u00A0\");\n    //             uiText2.text = uiText.text.replace(\" \", \"\\u00A0\");\n    //             // ToolsEx.FixTextBoundsToItsContent(uiText, false, true);\n    //         }\n    //     }\n    // }\n}"]}