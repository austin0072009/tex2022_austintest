
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/modules/@mogafa/utils/lib/Utils.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '0528eJw79tGQ5l3rluimqlh', 'Utils');
// Script/modules/@mogafa/utils/lib/Utils.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Utils = void 0;
var Utils = /** @class */ (function () {
    function Utils() {
    }
    /**
     * 数字分割
     * @param number 转换目标值
     * @param places 保留小数点
     */
    Utils.formatNumberToInt = function (number, places) {
        if (places === void 0) { places = 0; }
        places = places || 0;
        var thousand = ",";
        var negative = number < 0 ? "-" : "", i = parseInt((number = Math.abs(+number || 0).toFixed(places)), 10) + "", j = (j = i.length) > 3 ? j % 3 : 0;
        return negative + (j ? i.substr(0, j) + thousand : "") + i.substr(j).replace(/(\d{3})(?=\d)/g, "$1" + thousand);
    };
    /**
     * 转换为计数单位数据
     * @param num
     */
    Utils.numToCountingNnit = function (num) {
        if (num < 1000) {
            return num + "";
        }
        else if (num >= 1000000000) {
            return num / 1000000000 + "B";
        }
        else if (num >= 1000000) {
            return num / 1000000 + "M";
        }
        else if (num >= 1000) {
            return num / 1000 + "K";
        }
    };
    /**
     * 转换为普通数据
     * @param num
     */
    Utils.CountingNnitToNum = function (str) {
        str = str + "";
        var unit = str.substr(str.length - 1, str.length);
        if (unit == "K" || unit == "k") {
            var num = str.substr(0, str.length - 1);
            return Number(num) * 1000;
        }
        else if (unit == "M" || unit == "m") {
            var _num = str.substr(0, str.length - 1);
            return Number(_num) * 1000000;
        }
        else if (unit == "B" || unit == "b") {
            var _num2 = str.substr(0, str.length - 1);
            return Number(_num2) * 1000000000;
        }
    };
    /**
     * 加载Spine动画
     * @param url 全路径
     * @param node 添加到某节点
     * @calFun
     * @param ifPreAlpha 是否开始贴图预乘
     */
    Utils.addSpine = function (url, node, calFun, ifPreAlpha) {
        if (ifPreAlpha === void 0) { ifPreAlpha = false; }
        var spine = null;
        cc.loader.loadRes(url, sp.SkeletonData, function (err, res) {
            spine = node.addComponent(sp.Skeleton);
            spine.skeletonData = res;
            spine.premultipliedAlpha = ifPreAlpha;
            if (spine)
                calFun(spine);
        });
    };
    Utils.create = function (time, startPointX, startPointY, endPointX, endPointY, height, angle) {
        // 把角度转换为弧度
        var radian = (angle * 3.14159) / 180;
        // 第一个控制点为抛物线左半弧的中点
        var q1x = startPointX + (endPointX - startPointX) / 4;
        var q1 = cc.v2(q1x, height + startPointY + Math.cos(radian) * q1x);
        // 第二个控制点为整个抛物线的中点
        var q2x = startPointX + (endPointX - startPointX) / 2;
        var q2 = cc.v2(q2x, height + startPointY + Math.cos(radian) * q2x);
        // 曲线配置
        return cc.bezierTo(time, [q1, q2, cc.v2(endPointX, endPointY)]);
    };
    //生成UUID
    Utils.generateUUID = function () {
        var chars = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");
        var uuid = [], i;
        var r;
        uuid[8] = uuid[13] = uuid[18] = uuid[23] = "-";
        uuid[14] = "4";
        for (i = 0; i < 36; i++) {
            if (!uuid[i]) {
                r = 0 | (Math.random() * 16);
                uuid[i] = chars[i == 19 ? (r & 0x3) | 0x8 : r];
            }
        }
        return uuid.join("");
    };
    //将带","转化为number
    Utils.strToNumber = function (str) {
        var strArr = str.split(",");
        var newStr = "";
        strArr.forEach(function (i) {
            newStr += i;
        });
        return Number(newStr);
    };
    //将数字转为有","隔开数据格式
    Utils.numToStr = function (number) {
        var coin = String(number).split("");
        var newCoin = "";
        var curindex = 0;
        for (var index = coin.length - 1; index >= 0; index--) {
            var element = coin[index];
            if (curindex == 3) {
                newCoin += ",";
                curindex = 0;
            }
            curindex++;
            newCoin += element;
        }
        var reverse = function (str) {
            return str.split("").reverse().join("");
        };
        return reverse(newCoin);
    };
    //限制字符串为指定长度
    Utils.subStrLen = function (str, len) {
        var strLength = 0;
        var strLen = 0;
        var strCut = "";
        strLen = str.length;
        for (var i = 0; i < strLen; i++) {
            var a = str.charAt(i);
            strLength++;
            if (escape(a).length > 4) {
                strLength++;
            }
            strCut = strCut.concat(a);
            if (strLength >= len) {
                strCut = strCut.concat("..");
                return strCut;
            }
        }
        if (strLength < len) {
            return str;
        }
        return "?";
    };
    /**
     * 格式化秒为时、分、秒
     * @param value
     */
    Utils.prototype.formatSeconds = function (value) {
        if (value <= 0) {
            cc.error("倒计时不能小于等于0");
            return;
        }
        var h = Math.floor(value / 3600) < 10 ? "0" + Math.floor(value / 3600) : Math.floor(value / 3600);
        var m = Math.floor((value / 60) % 60) < 10 ? "0" + Math.floor((value / 60) % 60) : Math.floor((value / 60) % 60);
        var s = Math.floor(value % 60) < 10 ? "0" + Math.floor(value % 60) : Math.floor(value % 60);
        return {
            hour: h,
            minute: m,
            second: s,
        };
    };
    Utils.getTimeString = function (timer) {
        var second = Math.floor(timer % 60) < 10 ? "0" + Math.floor(timer % 60) : Math.floor(timer % 60);
        var minute = Math.floor((timer / 60) % 60) < 10 ? "0" + Math.floor((timer / 60) % 60) : Math.floor((timer / 60) % 60);
        var hour = Math.floor(timer / 3600) < 10 ? "0" + Math.floor(timer / 3600) : Math.floor(timer / 3600);
        var timeStr = "";
        timeStr = hour.toString() + ":" + minute.toString() + ":" + second.toString();
        return timeStr;
    };
    return Utils;
}());
exports.Utils = Utils;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcU2NyaXB0XFxtb2R1bGVzXFxAbW9nYWZhXFx1dGlsc1xcbGliXFxVdGlscy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQTtJQUFBO0lBMExBLENBQUM7SUF6TEc7Ozs7T0FJRztJQUNXLHVCQUFpQixHQUEvQixVQUFnQyxNQUF1QixFQUFFLE1BQWtCO1FBQWxCLHVCQUFBLEVBQUEsVUFBa0I7UUFDdkUsTUFBTSxHQUFHLE1BQU0sSUFBSSxDQUFDLENBQUM7UUFDckIsSUFBTSxRQUFRLEdBQUcsR0FBRyxDQUFDO1FBQ3JCLElBQUksUUFBUSxHQUFHLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUNoQyxDQUFDLEdBQUcsUUFBUSxDQUFDLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLElBQUksQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLEdBQUcsRUFBRSxFQUN4RSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3ZDLE9BQU8sUUFBUSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxRQUFRLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLGdCQUFnQixFQUFFLElBQUksR0FBRyxRQUFRLENBQUMsQ0FBQztJQUNwSCxDQUFDO0lBRUQ7OztPQUdHO0lBQ1csdUJBQWlCLEdBQS9CLFVBQWdDLEdBQVc7UUFDdkMsSUFBSSxHQUFHLEdB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QVksQ0FBQyxDQUFDO1lBQ3ZCLE9BQU87U0FDVjtRQUNELElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsQ0FBQztRQUNsRyxJQUFJLENBQUMsR0FDRCxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUM7UUFDN0csSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQyxDQUFDO1FBRTVGLE9BQU87WUFDSCxJQUFJLEVBQUUsQ0FBQztZQUNQLE1BQU0sRUFBRSxDQUFDO1lBQ1QsTUFBTSxFQUFFLENBQUM7U0FDWixDQUFDO0lBQ04sQ0FBQztJQUNhLG1CQUFhLEdBQTNCLFVBQTRCLEtBQWE7UUFDckMsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQyxDQUFDO1FBQ2pHLElBQUksTUFBTSxHQUNOLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQztRQUM3RyxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLENBQUM7UUFDckcsSUFBSSxPQUFPLEdBQUcsRUFBRSxDQUFDO1FBQ2pCLE9BQU8sR0FBRyxJQUFJLENBQUMsUUFBUSxFQUFFLEdBQUcsR0FBRyxHQUFHLE1BQU0sQ0FBQyxRQUFRLEVBQUUsR0FBRyxHQUFHLEdBQUcsTUFBTSxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQzlFLE9BQU8sT0FBTyxDQUFDO0lBQ25CLENBQUM7SUFDTCxZQUFDO0FBQUQsQ0ExTEEsQUEwTEMsSUFBQTtBQTFMWSxzQkFBSyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxuZXhwb3J0IGNsYXNzIFV0aWxzIHtcbiAgICAvKipcbiAgICAgKiDmlbDlrZfliIblibJcbiAgICAgKiBAcGFyYW0gbnVtYmVyIOi9rOaNouebruagh+WAvFxuICAgICAqIEBwYXJhbSBwbGFjZXMg5L+d55WZ5bCP5pWw54K5XG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBmb3JtYXROdW1iZXJUb0ludChudW1iZXI6IG51bWJlciB8IHN0cmluZywgcGxhY2VzOiBudW1iZXIgPSAwKSB7XG4gICAgICAgIHBsYWNlcyA9IHBsYWNlcyB8fCAwO1xuICAgICAgICBjb25zdCB0aG91c2FuZCA9IFwiLFwiO1xuICAgICAgICB2YXIgbmVnYXRpdmUgPSBudW1iZXIgPCAwID8gXCItXCIgOiBcIlwiLFxuICAgICAgICAgICAgaSA9IHBhcnNlSW50KChudW1iZXIgPSBNYXRoLmFicygrbnVtYmVyIHx8IDApLnRvRml4ZWQocGxhY2VzKSksIDEwKSArIFwiXCIsXG4gICAgICAgICAgICBqID0gKGogPSBpLmxlbmd0aCkgPiAzID8gaiAlIDMgOiAwO1xuICAgICAgICByZXR1cm4gbmVnYXRpdmUgKyAoaiA/IGkuc3Vic3RyKDAsIGopICsgdGhvdXNhbmQgOiBcIlwiKSArIGkuc3Vic3RyKGopLnJlcGxhY2UoLyhcXGR7M30pKD89XFxkKS9nLCBcIiQxXCIgKyB0aG91c2FuZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog6L2s5o2i5Li66K6h5pWw5Y2V5L2N5pWw5o2uXG4gICAgICogQHBhcmFtIG51bVxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgbnVtVG9Db3VudGluZ05uaXQobnVtOiBudW1iZXIpOiBzdHJpbmcge1xuICAgICAgICBpZiAobnVtIDwgMTAwMCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bSArIFwiXCI7XG4gICAgICAgIH0gZWxzZSBpZiAobnVtID49IDEwMDAwMDAwMDApIHtcbiAgICAgICAgICAgIHJldHVybiBudW0gLyAxMDAwMDAwMDAwICsgXCJCXCI7XG4gICAgICAgIH0gZWxzZSBpZiAobnVtID49IDEwMDAwMDApIHtcbiAgICAgICAgICAgIHJldHVybiBudW0gLyAxMDAwMDAwICsgXCJNXCI7XG4gICAgICAgIH0gZWxzZSBpZiAobnVtID49IDEwMDApIHtcbiAgICAgICAgICAgIHJldHVybiBudW0gLyAxMDAwICsgXCJLXCI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDovazmjaLkuLrmma7pgJrmlbDmja5cbiAgICAgKiBAcGFyYW0gbnVtXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBDb3VudGluZ05uaXRUb051bShzdHI6IHN0cmluZyk6IG51bWJlciB7XG4gICAgICAgIHN0ciA9IHN0ciArIFwiXCI7XG4gICAgICAgIGNvbnN0IHVuaXQgPSBzdHIuc3Vic3RyKHN0ci5sZW5ndGggLSAxLCBzdHIubGVuZ3RoKTtcbiAgICAgICAgaWYgKHVuaXQgPT0gXCJLXCIgfHwgdW5pdCA9PSBcImtcIikge1xuICAgICAgICAgICAgbGV0IG51bTogc3RyaW5nID0gc3RyLnN1YnN0cigwLCBzdHIubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICByZXR1cm4gTnVtYmVyKG51bSkgKiAxMDAwO1xuICAgICAgICB9IGVsc2UgaWYgKHVuaXQgPT0gXCJNXCIgfHwgdW5pdCA9PSBcIm1cIikge1xuICAgICAgICAgICAgbGV0IF9udW06IHN0cmluZyA9IHN0ci5zdWJzdHIoMCwgc3RyLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgcmV0dXJuIE51bWJlcihfbnVtKSAqIDEwMDAwMDA7XG4gICAgICAgIH0gZWxzZSBpZiAodW5pdCA9PSBcIkJcIiB8fCB1bml0ID09IFwiYlwiKSB7XG4gICAgICAgICAgICBsZXQgX251bTI6IHN0cmluZyA9IHN0ci5zdWJzdHIoMCwgc3RyLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgcmV0dXJuIE51bWJlcihfbnVtMikgKiAxMDAwMDAwMDAwO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5Yqg6L29U3BpbmXliqjnlLtcbiAgICAgKiBAcGFyYW0gdXJsIOWFqOi3r+W+hFxuICAgICAqIEBwYXJhbSBub2RlIOa3u+WKoOWIsOafkOiKgueCuVxuICAgICAqIEBjYWxGdW5cbiAgICAgKiBAcGFyYW0gaWZQcmVBbHBoYSDmmK/lkKblvIDlp4votLTlm77pooTkuZhcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIGFkZFNwaW5lKHVybDogc3RyaW5nLCBub2RlOiBhbnksIGNhbEZ1bjogYW55LCBpZlByZUFscGhhOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICAgICAgbGV0IHNwaW5lOiBzcC5Ta2VsZXRvbiA9IG51bGw7XG4gICAgICAgIGNjLmxvYWRlci5sb2FkUmVzKHVybCwgc3AuU2tlbGV0b25EYXRhLCAoZXJyLCByZXMpID0+IHtcbiAgICAgICAgICAgIHNwaW5lID0gbm9kZS5hZGRDb21wb25lbnQoc3AuU2tlbGV0b24pO1xuICAgICAgICAgICAgc3BpbmUuc2tlbGV0b25EYXRhID0gcmVzO1xuICAgICAgICAgICAgc3BpbmUucHJlbXVsdGlwbGllZEFscGhhID0gaWZQcmVBbHBoYTtcbiAgICAgICAgICAgIGlmIChzcGluZSkgY2FsRnVuKHNwaW5lKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGUoXG4gICAgICAgIHRpbWU6IG51bWJlcixcbiAgICAgICAgc3RhcnRQb2ludFg6IG51bWJlcixcbiAgICAgICAgc3RhcnRQb2ludFk6IG51bWJlcixcbiAgICAgICAgZW5kUG9pbnRYOiBudW1iZXIsXG4gICAgICAgIGVuZFBvaW50WTogbnVtYmVyLFxuICAgICAgICBoZWlnaHQ6IG51bWJlcixcbiAgICAgICAgYW5nbGU6IG51bWJlclxuICAgICkge1xuICAgICAgICAvLyDmiorop5LluqbovazmjaLkuLrlvKfluqZcbiAgICAgICAgbGV0IHJhZGlhbjogbnVtYmVyID0gKGFuZ2xlICogMy4xNDE1OSkgLyAxODA7XG4gICAgICAgIC8vIOesrOS4gOS4quaOp+WItueCueS4uuaKm+eJqee6v+W3puWNiuW8p+eahOS4reeCuVxuICAgICAgICBsZXQgcTF4ID0gc3RhcnRQb2ludFggKyAoZW5kUG9pbnRYIC0gc3RhcnRQb2ludFgpIC8gNDtcbiAgICAgICAgbGV0IHExID0gY2MudjIocTF4LCBoZWlnaHQgKyBzdGFydFBvaW50WSArIE1hdGguY29zKHJhZGlhbikgKiBxMXgpO1xuICAgICAgICAvLyDnrKzkuozkuKrmjqfliLbngrnkuLrmlbTkuKrmipvniannur/nmoTkuK3ngrlcbiAgICAgICAgbGV0IHEyeCA9IHN0YXJ0UG9pbnRYICsgKGVuZFBvaW50WCAtIHN0YXJ0UG9pbnRYKSAvIDI7XG4gICAgICAgIGxldCBxMiA9IGNjLnYyKHEyeCwgaGVpZ2h0ICsgc3RhcnRQb2ludFkgKyBNYXRoLmNvcyhyYWRpYW4pICogcTJ4KTtcbiAgICAgICAgLy8g5puy57q/6YWN572uXG4gICAgICAgIHJldHVybiBjYy5iZXppZXJUbyh0aW1lLCBbcTEsIHEyLCBjYy52MihlbmRQb2ludFgsIGVuZFBvaW50WSldKTtcbiAgICB9XG5cbiAgICAvL+eUn+aIkFVVSURcbiAgICBwdWJsaWMgc3RhdGljIGdlbmVyYXRlVVVJRCgpOiBzdHJpbmcge1xuICAgICAgICBsZXQgY2hhcnMgPSBcIjAxMjM0NTY3ODlBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6XCIuc3BsaXQoXCJcIik7XG4gICAgICAgIGxldCB1dWlkID0gW10sXG4gICAgICAgICAgICBpO1xuICAgICAgICBsZXQgcjtcbiAgICAgICAgdXVpZFs4XSA9IHV1aWRbMTNdID0gdXVpZFsxOF0gPSB1dWlkWzIzXSA9IFwiLVwiO1xuICAgICAgICB1dWlkWzE0XSA9IFwiNFwiO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMzY7IGkrKykge1xuICAgICAgICAgICAgaWYgKCF1dWlkW2ldKSB7XG4gICAgICAgICAgICAgICAgciA9IDAgfCAoTWF0aC5yYW5kb20oKSAqIDE2KTtcbiAgICAgICAgICAgICAgICB1dWlkW2ldID0gY2hhcnNbaSA9PSAxOSA/IChyICYgMHgzKSB8IDB4OCA6IHJdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1dWlkLmpvaW4oXCJcIik7XG4gICAgfVxuICAgIC8v5bCG5bimXCIsXCLovazljJbkuLpudW1iZXJcbiAgICBwdWJsaWMgc3RhdGljIHN0clRvTnVtYmVyKHN0cik6IG51bWJlciB7XG4gICAgICAgIHZhciBzdHJBcnIgPSBzdHIuc3BsaXQoXCIsXCIpO1xuICAgICAgICB2YXIgbmV3U3RyID0gXCJcIjtcbiAgICAgICAgc3RyQXJyLmZvckVhY2goKGkpID0+IHtcbiAgICAgICAgICAgIG5ld1N0ciArPSBpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIE51bWJlcihuZXdTdHIpO1xuICAgIH1cbiAgICAvL+WwhuaVsOWtl+i9rOS4uuaciVwiLFwi6ZqU5byA5pWw5o2u5qC85byPXG4gICAgcHVibGljIHN0YXRpYyBudW1Ub1N0cihudW1iZXIpOiBzdHJpbmcge1xuICAgICAgICB2YXIgY29pbiA9IFN0cmluZyhudW1iZXIpLnNwbGl0KFwiXCIpO1xuICAgICAgICB2YXIgbmV3Q29pbiA9IFwiXCI7XG4gICAgICAgIHZhciBjdXJpbmRleCA9IDA7XG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gY29pbi5sZW5ndGggLSAxOyBpbmRleCA+PSAwOyBpbmRleC0tKSB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gY29pbltpbmRleF07XG4gICAgICAgICAgICBpZiAoY3VyaW5kZXggPT0gMykge1xuICAgICAgICAgICAgICAgIG5ld0NvaW4gKz0gXCIsXCI7XG4gICAgICAgICAgICAgICAgY3VyaW5kZXggPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VyaW5kZXgrKztcbiAgICAgICAgICAgIG5ld0NvaW4gKz0gZWxlbWVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZXZlcnNlID0gZnVuY3Rpb24gKHN0cikge1xuICAgICAgICAgICAgcmV0dXJuIHN0ci5zcGxpdChcIlwiKS5yZXZlcnNlKCkuam9pbihcIlwiKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHJldmVyc2UobmV3Q29pbik7XG4gICAgfVxuXG4gICAgLy/pmZDliLblrZfnrKbkuLLkuLrmjIflrprplb/luqZcbiAgICBwdWJsaWMgc3RhdGljIHN1YlN0ckxlbihzdHIsIGxlbik6IHN0cmluZyB7XG4gICAgICAgIHZhciBzdHJMZW5ndGggPSAwO1xuICAgICAgICB2YXIgc3RyTGVuID0gMDtcbiAgICAgICAgdmFyIHN0ckN1dCA9IFwiXCI7XG4gICAgICAgIHN0ckxlbiA9IHN0ci5sZW5ndGg7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyTGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBhID0gc3RyLmNoYXJBdChpKTtcbiAgICAgICAgICAgIHN0ckxlbmd0aCsrO1xuICAgICAgICAgICAgaWYgKGVzY2FwZShhKS5sZW5ndGggPiA0KSB7XG4gICAgICAgICAgICAgICAgc3RyTGVuZ3RoKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdHJDdXQgPSBzdHJDdXQuY29uY2F0KGEpO1xuICAgICAgICAgICAgaWYgKHN0ckxlbmd0aCA+PSBsZW4pIHtcbiAgICAgICAgICAgICAgICBzdHJDdXQgPSBzdHJDdXQuY29uY2F0KFwiLi5cIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0ckN1dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RyTGVuZ3RoIDwgbGVuKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBcIj9cIjtcbiAgICB9XG4gICAgLyoqXG4gICAgICog5qC85byP5YyW56eS5Li65pe244CB5YiG44CB56eSXG4gICAgICogQHBhcmFtIHZhbHVlXG4gICAgICovXG4gICAgcHVibGljIGZvcm1hdFNlY29uZHModmFsdWU6IG51bWJlcik6IHsgW2tleTogc3RyaW5nXTogYW55IH0ge1xuICAgICAgICBpZiAodmFsdWUgPD0gMCkge1xuICAgICAgICAgICAgY2MuZXJyb3IoXCLlgJLorqHml7bkuI3og73lsI/kuo7nrYnkuo4wXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBoID0gTWF0aC5mbG9vcih2YWx1ZSAvIDM2MDApIDwgMTAgPyBcIjBcIiArIE1hdGguZmxvb3IodmFsdWUgLyAzNjAwKSA6IE1hdGguZmxvb3IodmFsdWUgLyAzNjAwKTtcbiAgICAgICAgbGV0IG0gPVxuICAgICAgICAgICAgTWF0aC5mbG9vcigodmFsdWUgLyA2MCkgJSA2MCkgPCAxMCA/IFwiMFwiICsgTWF0aC5mbG9vcigodmFsdWUgLyA2MCkgJSA2MCkgOiBNYXRoLmZsb29yKCh2YWx1ZSAvIDYwKSAlIDYwKTtcbiAgICAgICAgbGV0IHMgPSBNYXRoLmZsb29yKHZhbHVlICUgNjApIDwgMTAgPyBcIjBcIiArIE1hdGguZmxvb3IodmFsdWUgJSA2MCkgOiBNYXRoLmZsb29yKHZhbHVlICUgNjApO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBob3VyOiBoLFxuICAgICAgICAgICAgbWludXRlOiBtLFxuICAgICAgICAgICAgc2Vjb25kOiBzLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBwdWJsaWMgc3RhdGljIGdldFRpbWVTdHJpbmcodGltZXI6IG51bWJlcik6IHN0cmluZyB7XG4gICAgICAgIGxldCBzZWNvbmQgPSBNYXRoLmZsb29yKHRpbWVyICUgNjApIDwgMTAgPyBcIjBcIiArIE1hdGguZmxvb3IodGltZXIgJSA2MCkgOiBNYXRoLmZsb29yKHRpbWVyICUgNjApO1xuICAgICAgICBsZXQgbWludXRlID1cbiAgICAgICAgICAgIE1hdGguZmxvb3IoKHRpbWVyIC8gNjApICUgNjApIDwgMTAgPyBcIjBcIiArIE1hdGguZmxvb3IoKHRpbWVyIC8gNjApICUgNjApIDogTWF0aC5mbG9vcigodGltZXIgLyA2MCkgJSA2MCk7XG4gICAgICAgIGxldCBob3VyID0gTWF0aC5mbG9vcih0aW1lciAvIDM2MDApIDwgMTAgPyBcIjBcIiArIE1hdGguZmxvb3IodGltZXIgLyAzNjAwKSA6IE1hdGguZmxvb3IodGltZXIgLyAzNjAwKTtcbiAgICAgICAgbGV0IHRpbWVTdHIgPSBcIlwiO1xuICAgICAgICB0aW1lU3RyID0gaG91ci50b1N0cmluZygpICsgXCI6XCIgKyBtaW51dGUudG9TdHJpbmcoKSArIFwiOlwiICsgc2Vjb25kLnRvU3RyaW5nKCk7XG4gICAgICAgIHJldHVybiB0aW1lU3RyO1xuICAgIH1cbn1cbiJdfQ==